try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var u,f,e;for(u in t)if(f=typeof n[u],e=typeof t[u],f=="object"&&e=="object")i(n[u],t[u]);else if(f=="undefined"||r)n[u]=t[u];else throw new Error("Name conflict: "+u);}var r=!!this.overwrite;i(n,t)},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===undefined&&delete n[r];return n},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},GetOptional:function(n){return n===undefined?{$:0}:{$:1,$0:n}},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var r=n.prototype,i;n.prototype=new t;for(i in r)n.prototype[i]=r[i]},Safe:function(n){return n===undefined?{}:n},SetOptional:function(n,t,i){i.$==0?delete n[t]:n[t]=i.$0},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],Number.isInteger(u)){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");}}};Date.now||(Date.now=function(){return(new Date).getTime()});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;$.Define($$,{WebSharper:{AggregateException:$.Class({},{New:function($innerExceptions){var $0=this,$this=this;return $$.e=new $$.Error("AggregateException"),$$.e.InnerExceptions=$innerExceptions,$$.e;}}),Arrays:{average:function(U){return a(b.sum(U))/a(U.length);},averageBy:function(V,W){return a(b.sumBy(V,W))/a(W.length);},blit:function(X,Y,Z,_0,_1){var _2;b.checkRange(X,Y,_1);b.checkRange(Z,_0,_1);for(_2=0;_2<=_1-1;_2++){b.set(Z,_0+_2,b.get(X,Y+_2));}return;},checkBounds:function(_3,_4){return(_4<0?true:_4>=_3.length)?c.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(_5,_6,_7){return(((_6<0?true:_7<0)?true:_6>=_5.length)?true:_7>=(_5.length?_5[0].length:0))?c.Raise(new d("IndexOutOfRangeException")):null;},checkLength:function(_8,_9){return _8.length!==_9.length?c.FailWith("Arrays differ in length."):null;},checkRange:function(_,ba,bb){return((bb<0?true:ba<0)?true:_.length<ba+bb)?c.FailWith("Index was outside the bounds of the array."):null;},choose:function(bb,bc){var bd,be,bf,bg,bh;bd=[];for(be=0;be<=bc.length-1;be++){bf=bb(b.get(bc,be));if(bf.$==0){bg=null;}else{bh=bf.$0;bg=bd.push(bh);}}return bd;},collect:function(bi,bj){return e.prototype.concat.apply([],b.map(bi,bj));},concat:function(bk){return e.prototype.concat.apply([],b.ofSeq(bk));},create:function(bl,bm){var bn,bo;bn=e(bl);for(bo=0;bo<=bl-1;bo++){b.set(bn,bo,bm);}return bn;},create2D:function(bp){var bq,bs,bt;bq=function(br){return b.ofSeq(br);};bs=f.map(bq,bp);bt=b.ofSeq(bs);bt.dims=2;return bt;},exists2:function(bu,bv,bw){b.checkLength(bv,bw);return f.exists2(bu,bv,bw);},fill:function(bx,by,bz,bA){var bB;b.checkRange(bx,by,bz);for(bB=by;bB<=by+bz-1;bB++){b.set(bx,bB,bA);}return;},filter:function(bC,bD){var bE,bF;bE=[];for(bF=0;bF<=bD.length-1;bF++){bC(b.get(bD,bF))?bE.push(b.get(bD,bF)):null;}return bE;},find:function(bG,bH){var bI,bJ,bK;bI=b.tryFind(bG,bH);if(bI.$==0){bJ=c.FailWith("KeyNotFoundException");}else{bK=bI.$0;bJ=bK;}return bJ;},findINdex:function(bL,bM){var bN,bO,bP;bN=b.tryFindIndex(bL,bM);if(bN.$==0){bO=c.FailWith("KeyNotFoundException");}else{bP=bN.$0;bO=bP;}return bO;},fold:function(bQ,bR,bS){var bT,bU;bT=bR;for(bU=0;bU<=bS.length-1;bU++){bT=(bQ(bT))(b.get(bS,bU));}return bT;},fold2:function(bV,bW,bX,bY){var bZ,b0;b.checkLength(bX,bY);bZ=bW;for(b0=0;b0<=bX.length-1;b0++){bZ=((bV(bZ))(b.get(bX,b0)))(b.get(bY,b0));}return bZ;},foldBack:function(b1,b2,b3){var b4,b5,b6;b4=b3;b5=b2.length;for(b6=1;b6<=b5;b6++){b4=(b1(b.get(b2,b5-b6)))(b4);}return b4;},foldBack2:function(b7,b8,b9,b_){var b$,ca,cb;b.checkLength(b8,b9);b$=b8.length;ca=b_;for(cb=1;cb<=b$;cb++){ca=((b7(b.get(b8,b$-cb)))(b.get(b9,b$-cb)))(ca);}return ca;},forall2:function(cc,cd,ce){b.checkLength(cd,ce);return f.forall2(cc,cd,ce);},get:function(cf,cg){b.checkBounds(cf,cg);return cf[cg];},get2D:function(ch,ci,cj){b.checkBounds2D(ch,ci,cj);return ch[ci][cj];},init:function(ck,cl){var cm,cn;ck<0?c.FailWith("Negative size given."):null;cm=e(ck);for(cn=0;cn<=ck-1;cn++){b.set(cm,cn,cl(cn));}return cm;},iter:function(co,cp){var cq;for(cq=0;cq<=cp.length-1;cq++){co(b.get(cp,cq));}return;},iter2:function(cr,cs,ct){var cu;b.checkLength(cs,ct);for(cu=0;cu<=cs.length-1;cu++){(cr(b.get(cs,cu)))(b.get(ct,cu));}return;},iteri:function(cv,cw){var cx;for(cx=0;cx<=cw.length-1;cx++){(cv(cx))(b.get(cw,cx));}return;},iteri2:function(cy,cz,cA){var cB;b.checkLength(cz,cA);for(cB=0;cB<=cz.length-1;cB++){((cy(cB))(b.get(cz,cB)))(b.get(cA,cB));}return;},length:function(cC){var cD;cD=cC.dims;return cD===2?cC.length*cC.length:cC.length;},map:function(cE,cF){var cG,cH;cG=e(cF.length);for(cH=0;cH<=cF.length-1;cH++){b.set(cG,cH,cE(b.get(cF,cH)));}return cG;},map2:function(cI,cJ,cK){var cL,cM;b.checkLength(cJ,cK);cL=e(cK.length);for(cM=0;cM<=cK.length-1;cM++){b.set(cL,cM,(cI(b.get(cJ,cM)))(b.get(cK,cM)));}return cL;},mapi:function(cN,cO){var cP,cQ;cP=e(cO.length);for(cQ=0;cQ<=cO.length-1;cQ++){b.set(cP,cQ,(cN(cQ))(b.get(cO,cQ)));}return cP;},mapi2:function(cR,cS,cT){var cU,cV;b.checkLength(cS,cT);cU=e(cS.length);for(cV=0;cV<=cS.length-1;cV++){b.set(cU,cV,((cR(cV))(b.get(cS,cV)))(b.get(cT,cV)));}return cU;},max:function(cW){return b.reduce(function(cX){return function(cY){return c.Max(cX,cY);};},cW);},maxBy:function(cZ,c0){return b.reduce(function(c1){return function(c2){return g.Compare(cZ(c1),cZ(c2))===1?c1:c2;};},c0);},min:function(c3){return b.reduce(function(c4){return function(c5){return c.Min(c4,c5);};},c3);},minBy:function(c6,c7){return b.reduce(function(c8){return function(c9){return g.Compare(c6(c8),c6(c9))===-1?c8:c9;};},c7);},nonEmpty:function(c_){return c_.length===0?c.FailWith("The input array was empty."):null;},ofSeq:function(c$){var da,db;da=[];db=h.Get(c$);while(db.MoveNext()){da.push(db.get_Current());}return da;},partition:function(dc,dd){var de,df,dg;de=[];df=[];for(dg=0;dg<=dd.length-1;dg++){dc(b.get(dd,dg))?de.push(b.get(dd,dg)):df.push(b.get(dd,dg));}return[de,df];},permute:function(dh,di){var dj,dk;dj=e(di.length);for(dk=0;dk<=di.length-1;dk++){b.set(dj,dh(dk),b.get(di,dk));}return dj;},pick:function(dl,dm){var dn,_do,dp;dn=b.tryPick(dl,dm);if(dn.$==0){_do=c.FailWith("KeyNotFoundException");}else{dp=dn.$0;_do=dp;}return _do;},reduce:function(dq,dr){var ds,dt;b.nonEmpty(dr);ds=b.get(dr,0);for(dt=1;dt<=dr.length-1;dt++){ds=(dq(ds))(b.get(dr,dt));}return ds;},reduceBack:function(du,dv){var dw,dx,dy;b.nonEmpty(dv);dw=dv.length;dx=b.get(dv,dw-1);for(dy=2;dy<=dw;dy++){dx=(du(b.get(dv,dw-dy)))(dx);}return dx;},reverse:function(dz,dA,dB){var dC;dC=b.sub(dz,dA,dB).slice().reverse();return b.blit(dC,0,dz,dA,b.length(dC));},scan:function(dD,dE,dF){var dG,dH;dG=e(1+dF.length);b.set(dG,0,dE);for(dH=0;dH<=dF.length-1;dH++){b.set(dG,dH+1,(dD(b.get(dG,dH)))(b.get(dF,dH)));}return dG;},scanBack:function(dI,dJ,dK){var dL,dM,dN;dL=dJ.length;dM=e(1+dL);b.set(dM,dL,dK);for(dN=0;dN<=dL-1;dN++){b.set(dM,dL-dN-1,(dI(b.get(dJ,dL-dN-1)))(b.get(dM,dL-dN)));}return dM;},set:function(dO,dP,dQ){b.checkBounds(dO,dP);dO[dP]=dQ;return;},set2D:function(dR,dS,dT,dU){b.checkBounds2D(dR,dS,dT);dR[dS][dT]=dU;return;},setSub:function(dV,dW,dX,dY){var dZ;for(dZ=0;dZ<=dX-1;dZ++){b.set(dV,dW+dZ,b.get(dY,dZ));}return;},setSub2D:function(d0,d1,d2,d3,d4,d5){var d6,d7;for(d6=0;d6<=d3-1;d6++){for(d7=0;d7<=d4-1;d7++){b.set2D(d0,d1+d6,d2+d7,b.get2D(d5,d6,d7));}}return;},sort:function(d8){return b.sortBy(function(d9){return d9;},d8);},sortBy:function(d_,d$){return d$.slice().sort(function(ea,eb){return c.Compare(d_(ea),d_(eb));});},sortInPlace:function(ec){return b.sortInPlaceBy(function(ed){return ed;},ec);},sortInPlaceBy:function(ee,ef){return ef.sort(function(eg,eh){return c.Compare(ee(eg),ee(eh));});},sortInPlaceWith:function(ei,ej){return ej.sort(function(ek,el){return(ei(ek))(el);});},sortWith:function(em,en){return en.slice().sort(function(eo,ep){return(em(eo))(ep);});},sub:function(eq,er,es){b.checkRange(eq,er,es);return eq.slice(er,er+es);},sub2D:function(et,eu,ev,ew,ex){var ey,ez,eA,eB,eC;ey=ew<0?0:ew;ez=ex<0?0:ex;eA=b.zeroCreate2D(ey,ez);for(eB=0;eB<=ey-1;eB++){for(eC=0;eC<=ez-1;eC++){b.set2D(eA,eB,eC,b.get2D(et,eu+eB,ev+eC));}}return eA;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(eD,eE){var eF,eG;eF={$:0};eG=0;while(eG<eE.length?eF.$==0:false){eD(b.get(eE,eG))?eF={$:1,$0:b.get(eE,eG)}:null;eG=eG+1;}return eF;},tryFindIndex:function(eH,eI){var eJ,eK;eJ={$:0};eK=0;while(eK<eI.length?eJ.$==0:false){eH(b.get(eI,eK))?eJ={$:1,$0:eK}:null;eK=eK+1;}return eJ;},tryPick:function(eL,eM){var eN,eO,eP;eN={$:0};eO=0;while(eO<eM.length?eN.$==0:false){eP=eL(b.get(eM,eO));eP.$==1?eN=eP:null;eO=eO+1;}return eN;},unzip:function(eQ){var eR,eS,eT,eU,eV,eW;eR=[];eS=[];for(eT=0;eT<=eQ.length-1;eT++){eU=b.get(eQ,eT);eV=eU[1];eW=eU[0];eR.push(eW);eS.push(eV);}return[eR,eS];},unzip3:function(eX){var eY,eZ,e0,e1,e2,e3,e4,e5;eY=[];eZ=[];e0=[];for(e1=0;e1<=eX.length-1;e1++){e2=b.get(eX,e1);e3=e2[2];e4=e2[1];e5=e2[0];eY.push(e5);eZ.push(e4);e0.push(e3);}return[eY,eZ,e0];},zeroCreate2D:function(e6,e7){var e8;e8=b.init(e6,function(){return e(e7);});e8.dims=2;return e8;},zip:function(e_,e$){var fa,fb;b.checkLength(e_,e$);fa=e(e_.length);for(fb=0;fb<=e_.length-1;fb++){b.set(fa,fb,[b.get(e_,fb),b.get(e$,fb)]);}return fa;},zip3:function(fc,fd,fe){var ff,fg;b.checkLength(fc,fd);b.checkLength(fd,fe);ff=e(fc.length);for(fg=0;fg<=fc.length-1;fg++){b.set(ff,fg,[b.get(fc,fg),b.get(fd,fg),b.get(fe,fg)]);}return ff;}},Arrays2D:{copy:function(fh){return i.init(fh.length,fh.length?fh[0].length:0,function(fi){return function(fj){return b.get2D(fh,fi,fj);};});},init:function(fk,fl,fm){var fn,fo,fp;fn=b.zeroCreate2D(fk,fl);for(fo=0;fo<=fk-1;fo++){for(fp=0;fp<=fl-1;fp++){b.set2D(fn,fo,fp,(fm(fo))(fp));}}return fn;},iter:function(fq,fr){var fs,ft,fu,fv;fs=fr.length;ft=fr.length?fr[0].length:0;for(fu=0;fu<=fs-1;fu++){for(fv=0;fv<=ft-1;fv++){fq(b.get2D(fr,fu,fv));}}return;},iteri:function(fw,fx){var fy,fz,fA,fB;fy=fx.length;fz=fx.length?fx[0].length:0;for(fA=0;fA<=fy-1;fA++){for(fB=0;fB<=fz-1;fB++){((fw(fA))(fB))(b.get2D(fx,fA,fB));}}return;},map:function(fC,fD){return i.init(fD.length,fD.length?fD[0].length:0,function(fE){return function(fF){return fC(b.get2D(fD,fE,fF));};});},mapi:function(fG,fH){return i.init(fH.length,fH.length?fH[0].length:0,function(fI){return function(fJ){return((fG(fI))(fJ))(b.get2D(fH,fI,fJ));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return j.GetCT();},get_DefaultCancellationToken:function(){return j.defCTS().contents;}}),CancellationTokenSource:$.Class({Cancel:function(){var fK,fL,fP,fQ;if(!this.c){this.c=true;fL=function(fM){var fN,fO;try{fM(null);fN={$:0};}catch(fO){fN={$:1,$0:fO};}return fN;};fP=this.r;fQ=b.choose(fL,fP);fK=b.length(fQ)>0?c.Raise(k.New(fQ)):null;}else{fK=null;}return fK;},Cancel1:function(fR){var fS,fT,fU,fW;if(!fR){fS=this.Cancel();}else{if(!this.c){this.c=true;fU=function(fV){return fV(null);};fW=this.r;fT=b.iter(fU,fW);}else{fT=null;}fS=fT;}return fS;},CancelAfter:function(fX){var fY,fZ,f1,f3=this;if(!this.c){fZ=this.pending;l.iter(function(f0){return m(f0);},fZ);f1=n(function(){return f3.Cancel();},fX);fY=void(this.pending={$:1,$0:f1});}else{fY=null;}return fY;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(f4,f5){return o.CreateLinkedTokenSource1([f4,f5]);},CreateLinkedTokenSource1:function(f6){var f7,f8;f7=o.New();f8=function(f9){var f_,ga;f_=function(){return f7.Cancel();};ga=j.Register(f9,function(){return f_();});return;};return b.iter(f8,f6);},New:function(){var gc;gc=$.New(this,{});gc.c=false;gc.pending={$:0};gc.r=[];return gc;}}),Char:$.Class({},{GetNumericValue:function(gd){return(gd>=48?gd<=57:false)?a(gd)-a(48):-1;},IsControl:function(ge){return(ge>=0?ge<=31:false)?true:ge>=128?ge<=159:false;},IsDigit:function(gf){return gf>=48?gf<=57:false;},IsLetter:function(gg){return(gg>=65?gg<=90:false)?true:gg>=97?gg<=122:false;},IsLetterOrDigit:function(gh){return p.IsLetter(gh)?true:p.IsDigit(gh);},IsLower:function(gi){return gi>=97?gi<=122:false;},IsUpper:function(gj){return gj>=65?gj<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(gk){return gk.length===1?gk.charCodeAt(0):c.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(gl){var gm;gm=function(gn){var go,gp,gq,gr,gs,gt;go=function(){return q.subscribeTo(gl,function(gv){var gw;r.Force(gp).Dispose();r.Force(gr).Dispose();gw=function(){return gn.k.call(null,{$:0,$0:gv});};return j.scheduler().Fork(gw);});};gp=r.Create(go);gq=function(){return j.Register(gn.ct,function(){var gA;r.Force(gp).Dispose();gA=function(){return gn.k.call(null,{$:2,$0:new d("OperationCanceledException")});};return j.scheduler().Fork(gA);});};gr=r.Create(gq);gs=r.Force(gp);gt=r.Force(gr);return null;};return j.checkCancel(gm);},Bind:function(gC,gD){var gE;gE=function(gF){return gC({k:function(gG){var gH,gI,gJ,gN;if(gG.$==0){gI=gG.$0;gJ=function(){var gL,gM;try{gL=(gD(gI))(gF);}catch(gM){gL=gF.k.call(null,{$:1,$0:gM});}return gL;};gH=j.scheduler().Fork(gJ);}else{gN=function(){return gF.k.call(null,gG);};gH=j.scheduler().Fork(gN);}return gH;},ct:gF.ct});};return j.checkCancel(gE);},Catch:function(gP){var gQ;gQ=function(gR){var gS,gX;try{gS=gP({k:function(gT){var gU,gV,gW;if(gT.$==0){gV=gT.$0;gU=gR.k.call(null,{$:0,$0:{$:0,$0:gV}});}else{if(gT.$==1){gW=gT.$0;gU=gR.k.call(null,{$:0,$0:{$:1,$0:gW}});}else{gU=gR.k.call(null,gT);}}return gU;},ct:gR.ct});}catch(gX){gS=gR.k.call(null,{$:0,$0:{$:1,$0:gX}});}return gS;};return j.checkCancel(gQ);},Combine:function(gY,gZ){return j.Bind(gY,function(){return gZ;});},Delay:function(g1){var g2;g2=function(g3){var g4,g5;try{g4=(g1(null))(g3);}catch(g5){g4=g3.k.call(null,{$:1,$0:g5});}return g4;};return j.checkCancel(g2);},For:function(g6,g7){var g8;g8=h.Get(g6);return j.While(function(){return g8.MoveNext();},j.Delay(function(){return g7(g8.get_Current());}));},FromContinuations:function(g$){var ha;ha=function(hb){var hc,hd;hc={contents:false};hd=function(he){var hf;if(hc.contents){hf=c.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{hc.contents=true;hf=j.scheduler().Fork(he);}return hf;};return g$([function(hg){return hd(function(){return hb.k.call(null,{$:0,$0:hg});});},function(hi){return hd(function(){return hb.k.call(null,{$:1,$0:hi});});},function(hk){return hd(function(){return hb.k.call(null,{$:2,$0:hk});});}]);};return j.checkCancel(ha);},GetCT:$.Field(function(){var hm;hm=function(hn){return hn.k.call(null,{$:0,$0:hn.ct});};return j.checkCancel(hm);}),Ignore:function(ho){return j.Bind(ho,function(){return j.Return(null);});},OnCancel:function(hq){var hr;hr=function(hs){return hs.k.call(null,{$:0,$0:j.Register(hs.ct,hq)});};return j.checkCancel(hr);},Parallel:function(ht){var hu,hv,hw;hu=b.ofSeq(ht);if(b.length(hu)===0){hv=j.Return([]);}else{hw=function(hx){var hy,hz,hA,hB;hy=hu.length;hz={contents:hy};hA=b.create(hy,undefined);hB=function(hC){return function(hD){var hE,hF,hG,hH,hI,hJ,hK,hL,hM;hE=[hz.contents,hD];if(hE[0]===0){hF=null;}else{if(hE[0]===1){if(hE[1].$==0){hH=hE[1].$0;b.set(hA,hC,hH);hz.contents=0;hG=hx.k.call(null,{$:0,$0:hA});}else{hE[0];hI=hE[1];hz.contents=0;hG=hx.k.call(null,hI);}hF=hG;}else{if(hE[1].$==0){hK=hE[1].$0;hL=hE[0];b.set(hA,hC,hK);hJ=void(hz.contents=hL-1);}else{hE[0];hM=hE[1];hz.contents=0;hJ=hx.k.call(null,hM);}hF=hJ;}}return hF;};};return b.iteri(function(hN){return function(hO){var hP;hP=function(){return hO({k:hB(hN),ct:hx.ct});};return j.scheduler().Fork(hP);};},hu);};hv=j.checkCancel(hw);}return hv;},Register:function(hR,hS){var hT;hT=hR.r.push(hS)-1;return{Dispose:function(){return b.set(hR.r,hT,function(){});}};},Return:function(hW){var hX;hX=function(hY){return hY.k.call(null,{$:0,$0:hW});};return j.checkCancel(hX);},Scheduler:$.Class({Fork:function(hZ){var h0,h1,h3=this;this.robin.push(hZ);if(this.idle){this.idle=false;h1=n(function(){return h3.tick();},0);h0=void h1;}else{h0=null;}return h0;},tick:function(){var h4,h5,h6,h7,h8,h9,h$=this;h4=s.now();h5=true;while(h5){h6=this.robin.length;if(h6===0){this.idle=true;h7=h5=false;}else{(this.robin.shift())(null);if(s.now()-h4>40){h9=n(function(){return h$.tick();},0);h8=h5=false;}else{h8=null;}h7=h8;}}return;}},{New:function(){var ia;ia=$.New(this,{});ia.idle=true;ia.robin=[];return ia;}}),Sleep:function(ib){var ic;ic=function(id){var ie,_if,ig,ih,ii,ij;ie=function(){return n(function(){var im;r.Force(ih).Dispose();im=function(){return id.k.call(null,{$:0,$0:null});};return j.scheduler().Fork(im);},ib);};_if=r.Create(ie);ig=function(){return j.Register(id.ct,function(){var iq;m(r.Force(_if));iq=function(){return id.k.call(null,{$:2,$0:new d("OperationCanceledException")});};return j.scheduler().Fork(iq);});};ih=r.Create(ig);ii=r.Force(_if);ij=r.Force(ih);return null;};return j.checkCancel(ic);},Start:function(is,it){return j.StartWithContinuations(is,function(){},function(iv){var iw;iw=[iv];return t?t.log.apply(t,["WebSharper: Uncaught asynchronous exception"].concat(iw)):undefined;},function(){},it);},StartChild:function(iy){var iz;iz=function(iA){var iB,iC,iD,iG,iL;iB={contents:{$:0}};iC=[];iD=function(){return iy({k:function(iF){iB.contents={$:1,$0:iF};while(iC.length>0){(iC.shift())(iF);}return;},ct:iA.ct});};j.scheduler().Fork(iD);iG=function(iH){var iI,iJ,iK;iI=iB.contents;if(iI.$==0){iJ=iC.push(iH.k);}else{iK=iI.$0;iJ=iH.k.call(null,iK);}return iJ;};iL=j.checkCancel(iG);return iA.k.call(null,{$:0,$0:iL});};return j.checkCancel(iz);},StartWithContinuations:function(iM,iN,iO,iP,iQ){var iR,iS;iR=c.DefaultArg(iQ,j.defCTS().contents);iS=function(){return iM({k:function(iU){var iV,iW,iX,iY;if(iU.$==1){iW=iU.$0;iV=iO(iW);}else{if(iU.$==2){iX=iU.$0;iV=iP(iX);}else{iY=iU.$0;iV=iN(iY);}}return iV;},ct:iR});};return j.scheduler().Fork(iS);},TryCancelled:function(iZ,i0){var i1;i1=function(i2){return iZ({k:function(i3){var i4,i5;if(i3.$==2){i5=i3.$0;i0(i5);i4=i2.k.call(null,i3);}else{i4=i2.k.call(null,i3);}return i4;},ct:i2.ct});};return j.checkCancel(i1);},TryFinally:function(i6,i7){var i8;i8=function(i9){return i6({k:function(i_){var i$,ja;try{i7(null);i$=i9.k.call(null,i_);}catch(ja){i$=i9.k.call(null,{$:1,$0:ja});}return i$;},ct:i9.ct});};return j.checkCancel(i8);},TryWith:function(jb,jc){var jd;jd=function(je){return jb({k:function(jf){var jg,jh,ji,jj,jk;if(jf.$==0){jh=jf.$0;jg=je.k.call(null,{$:0,$0:jh});}else{if(jf.$==1){ji=jf.$0;try{jj=(jc(ji))(je);}catch(jk){jj=je.k.call(null,jf);}jg=jj;}else{jg=je.k.call(null,jf);}}return jg;},ct:je.ct});};return j.checkCancel(jd);},Using:function(jl,jm){return j.TryFinally(jm(jl),function(){return jl.Dispose();});},While:function(jo,jp){return jo(null)?j.Bind(jp,function(){return j.While(jo,jp);}):j.Return(null);},checkCancel:function(jr){return function(js){return js.ct.c?js.k.call(null,{$:2,$0:new d("OperationCanceledException")}):jr(js);};},defCTS:$.Field(function(){return{contents:o.New()};}),scheduler:$.Field(function(){return u.New();})},Control:{createEvent:function(jt,ju,jv){return{AddHandler:jt,RemoveHandler:ju,Subscribe:function(jw){var jx;jx=jv(function(){return function(jz){return jw.OnNext.call(null,jz);};});jt(jx);return{Dispose:function(){return ju(jx);}};}};}},DateTimeHelpers:{AddMonths:function(jB,jC){var jD;jD=new s(jB);return(new s(jD.getFullYear(),jD.getMonth()+jC,jD.getDate(),jD.getHours(),jD.getMinutes(),jD.getSeconds(),jD.getMilliseconds())).getTime();},AddYears:function(jE,jF){var jG;jG=new s(jE);return(new s(jG.getFullYear()+jF,jG.getMonth(),jG.getDate(),jG.getHours(),jG.getMinutes(),jG.getSeconds(),jG.getMilliseconds())).getTime();},DatePortion:function(jH){var jI;jI=new s(jH);return(new s(jI.getFullYear(),jI.getMonth(),jI.getDate())).getTime();},TimePortion:function(jJ){var jK;jK=new s(jJ);return(((24*0+jK.getHours())*60+jK.getMinutes())*60+jK.getSeconds())*1000+jK.getMilliseconds();}},Enumerable:{Of:function(jL){return{GetEnumerator:jL};}},Enumerator:{Get:function(jM){var jN,jO,jU,jV;if(jM instanceof $$.Array){jO=function(jP){var jQ,jR,jS,jT;jQ=jP.s;if(jQ<b.length(jM)){jS=b.get(jM,jQ);jP.c=jS;jT=jQ+1;jP.s=jT;jR=true;}else{jR=false;}return jR;};jN=v.New(0,null,jO);}else{if(g.Equals(typeof jM,"string")){jV=function(jW){var jX,jY,jZ,j0;jX=jW.s;if(jX<jM.length){jZ=jM.charCodeAt(jX);jW.c=jZ;j0=jX+1;jW.s=j0;jY=true;}else{jY=false;}return jY;};jU=v.New(0,null,jV);}else{jU=jM.GetEnumerator();}jN=jU;}return jN;},T:$.Class({MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(j1,j2,j3){var j4;j4=$.New(this,{});j4.s=j1;j4.c=j2;j4.n=j3;return j4;}})},Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var j5,j6;if(y.hasDocument()){j6=z.getElementById("websharper-data");j5=j6?A(z).ready(function(){var j8,j9,j_,ke;j8=j6.getAttribute("content");j9=B.Activate(C.parse(j8));j_=function(j$){var ka,kb,kc,kd;ka=j$[0];kb=j$[1];kc=kb.get_Body();kd=z.getElementById(ka);return kc.ReplaceInDom(kd);};ke=E.GetFields(j9);return b.iter(j_,ke);}):null;}else{j5=null;}return j5;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(kf){return G.New(kf);},SingleNode:$.Class({ReplaceInDom:function(kg){var kh;kh=this.node.parentNode.replaceChild(this.node,kg);return;}},{New:function(ki){var kj;kj=$.New(this,{});kj.node=ki;return kj;}})}}},JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(kk){var kl,km,kn,ko,kp;kl={};km=h.Get(kk);while(km.MoveNext()){kn=km.get_Current();ko=kn[1];kp=kn[0];kl[kp]=ko;}return kl;}}},Json:{Activate:function(kq){var kr,ks,kt;kr=kq.$TYPES;for(ks=0;ks<=b.length(kr)-1;ks++){b.set(kr,ks,B.lookup(b.get(kr,ks)));}kt=function(ku){var kv,kw,kx,ky,kz,kA;if(g.Equals(ku,null)){kv=ku;}else{kw=typeof ku;if(kw==="object"){if(ku instanceof $$.Array){ky=B.shallowMap(kt,ku);}else{kz=B.shallowMap(kt,ku.$V);kA=ku.$T;ky=g.Equals(typeof kA,"undefined")?kz:B.restore(b.get(kr,kA),kz);}kx=ky;}else{kx=ku;}kv=kx;}return kv;};return kt(kq.$DATA);},lookup:function(kB){var kC,kD,kE,kF,kG,kH;kC=b.length(kB);kD=$$;kE=0;while(kE<kC){kF=b.get(kB,kE);kG=kD[kF];if(!g.Equals(typeof kG,undefined)){kD=kG;kH=kE=kE+1;}else{kH=c.FailWith("Invalid server reply. Failed to find type: "+kF);}}return kD;},restore:function(kI,kJ){var kK;kK=new kI();E.ForEach(kJ,function(kL){kK[kL]=kJ[kL];return false;});return kK;},shallowMap:function(kM,kN){var kO,kP,kQ,kR;if(kN instanceof $$.Array){kO=b.map(kM,kN);}else{kP=typeof kN;if(kP==="object"){kR={};E.ForEach(kN,function(kS){kR[kS]=kM(kN[kS]);return false;});kQ=kR;}else{kQ=kN;}kO=kQ;}return kO;}},Lazy:{Create:function(kT){var kU,kV;kU={value:undefined,created:false,eval:kT};kV=function(){var kX;if(kU.created){kX=kU.value;}else{kU.created=true;kU.value=kT(null);kX=kU.value;}return kX;};kU.eval=kV;return kU;},CreateFromValue:function(kY){return{value:kY,created:true,eval:function(){return kY;},eval:function(){return kY;}};},Force:function(k1){return k1.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){var k2;k2=function(k3){var k4,k5,k6,k7;k4=k3.s;if(k4.$==0){k5=false;}else{k6=k4.$1;k7=k4.$0;k3.c=k7;k3.s=k6;k5=true;}return k5;};return v.New(this,null,k2);},get_Item:function(k8){return f.nth(k8,this);},get_Length:function(){return f.length(this);}},{Construct:function(k9,k_){return $.New(I,{$:1,$0:k9,$1:k_});},get_Nil:function(){return $.New(I,{$:0});}}),append:function(k$,la){return H.ofSeq(f.append(k$,la));},choose:function(lb,lc){return H.ofSeq(f.choose(lb,lc));},collect:function(ld,le){return H.ofSeq(f.collect(ld,le));},concat:function(lf){return H.ofSeq(f.concat(lf));},exists2:function(lg,lh,li){return b.exists2(lg,b.ofSeq(lh),b.ofSeq(li));},filter:function(lj,lk){return H.ofSeq(f.filter(lj,lk));},fold2:function(ll,lm,ln,lo){return b.fold2(ll,lm,b.ofSeq(ln),b.ofSeq(lo));},foldBack:function(lp,lq,lr){return b.foldBack(lp,b.ofSeq(lq),lr);},foldBack2:function(ls,lt,lu,lv){return b.foldBack2(ls,b.ofSeq(lt),b.ofSeq(lu),lv);},forall2:function(lw,lx,ly){return b.forall2(lw,b.ofSeq(lx),b.ofSeq(ly));},head:function(lz){var lA,lB;if(lz.$==1){lB=lz.$0;lA=lB;}else{lA=c.FailWith("The input list was empty.");}return lA;},init:function(lC,lD){return H.ofArray(b.init(lC,lD));},iter2:function(lE,lF,lG){return b.iter2(lE,b.ofSeq(lF),b.ofSeq(lG));},iteri2:function(lH,lI,lJ){return b.iteri2(lH,b.ofSeq(lI),b.ofSeq(lJ));},map:function(lK,lL){return H.ofSeq(f.map(lK,lL));},map2:function(lM,lN,lO){return H.ofArray(b.map2(lM,b.ofSeq(lN),b.ofSeq(lO)));},map3:function(lP,lQ,lR,lS){var lT;lT=b.map2(function(lU){return function(lV){return lU(lV);};},b.map2(lP,b.ofSeq(lQ),b.ofSeq(lR)),b.ofSeq(lS));return H.ofArray(lT);},mapi:function(lW,lX){return H.ofSeq(f.mapi(lW,lX));},mapi2:function(lY,lZ,l0){return H.ofArray(b.mapi2(lY,b.ofSeq(lZ),b.ofSeq(l0)));},max:function(l1){return f.reduce(function(l2){return function(l3){return c.Max(l2,l3);};},l1);},maxBy:function(l4,l5){return f.reduce(function(l6){return function(l7){return g.Compare(l4(l6),l4(l7))===1?l6:l7;};},l5);},min:function(l8){return f.reduce(function(l9){return function(l_){return c.Min(l9,l_);};},l8);},minBy:function(l$,ma){return f.reduce(function(mb){return function(mc){return g.Compare(l$(mb),l$(mc))===-1?mb:mc;};},ma);},ofArray:function(md){var me,mf;me=$.New(I,{$:0});for(mf=0;mf<=b.length(md)-1;mf++){me=$.New(I,{$:1,$0:b.get(md,b.length(md)-mf-1),$1:me});}return me;},ofSeq:function(mg){var mh,mi,mj;mh=[];mi=h.Get(mg);while(mi.MoveNext()){mh.unshift(mi.get_Current());}mj=mh.slice(0);mj.reverse();return H.ofArray(mj);},partition:function(mk,ml){var mm,mn,mo;mm=b.partition(mk,b.ofSeq(ml));mn=mm[1];mo=mm[0];return[H.ofArray(mo),H.ofArray(mn)];},permute:function(mp,mq){return H.ofArray(b.permute(mp,b.ofSeq(mq)));},reduceBack:function(mr,ms){return b.reduceBack(mr,b.ofSeq(ms));},replicate:function(mt,mu){return H.ofArray(b.create(mt,mu));},rev:function(mv){var mw;mw=b.ofSeq(mv);mw.reverse();return H.ofArray(mw);},scan:function(mx,my,mz){return H.ofSeq(f.scan(mx,my,mz));},scanBack:function(mA,mB,mC){return H.ofArray(b.scanBack(mA,b.ofSeq(mB),mC));},sort:function(mD){var mE;mE=b.ofSeq(mD);b.sortInPlace(mE);return H.ofArray(mE);},sortBy:function(mF,mG){return H.sortWith(function(mH){return function(mI){return c.Compare(mF(mH),mF(mI));};},mG);},sortWith:function(mJ,mK){var mL;mL=b.ofSeq(mK);b.sortInPlaceWith(mJ,mL);return H.ofArray(mL);},tail:function(mM){var mN,mO;if(mM.$==1){mO=mM.$1;mN=mO;}else{mN=c.FailWith("The input list was empty.");}return mN;},unzip:function(mP){var mQ,mR,mS,mT,mU,mV;mQ=[];mR=[];mS=h.Get(mP);while(mS.MoveNext()){mT=mS.get_Current();mU=mT[1];mV=mT[0];mQ.push(mV);mR.push(mU);}return[H.ofArray(mQ.slice(0)),H.ofArray(mR.slice(0))];},unzip3:function(mW){var mX,mY,mZ,m0,m1,m2,m3,m4;mX=[];mY=[];mZ=[];m0=h.Get(mW);while(m0.MoveNext()){m1=m0.get_Current();m2=m1[2];m3=m1[1];m4=m1[0];mX.push(m4);mY.push(m3);mZ.push(m2);}return[H.ofArray(mX.slice(0)),H.ofArray(mY.slice(0)),H.ofArray(mZ.slice(0))];},zip:function(m5,m6){return H.ofArray(b.zip(b.ofSeq(m5),b.ofSeq(m6)));},zip3:function(m7,m8,m9){return H.ofArray(b.zip3(b.ofSeq(m7),b.ofSeq(m8),b.ofSeq(m9)));}},Operators:{Compare:function(m_,m$){return g.Compare(m_,m$);},Decrement:function(na){na.contents=na.contents-1;},DefaultArg:function(nb,nc){var nd,ne;if(nb.$==0){nd=nc;}else{ne=nb.$0;nd=ne;}return nd;},FailWith:function(nf){return c.Raise(new d(nf));},Increment:function(ng){ng.contents=ng.contents+1;},KeyValue:function(nh){return[nh.K,nh.V];},Max:function(ni,nj){return g.Compare(ni,nj)===1?ni:nj;},Min:function(nk,nl){return g.Compare(nk,nl)===-1?nk:nl;},Pown:function(nm,nn){var no;no=function(np){var nq,nr,ns;if(np===1){nq=nm;}else{if(np%2===0){ns=no(np/2>>0);nr=ns*ns;}else{nr=nm*no(np-1);}nq=nr;}return nq;};return no(nn);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(nt){return nt===0?0:nt<0?-1:1;},Truncate:function(nu){return nu<0?J.ceil(nu):J.floor(nu);},Using:function(nv,nw){var nx;try{nx=nw(nv);}finally{nv.Dispose();}return nx;},range:function(ny,nz){return f.init(1+nz-ny,function(nA){return nA+ny;});},step:function(nB,nC,nD){var nE,nF,nH,nJ;nE=c.Sign(nC);nF=function(nG){return nE*(nD-nG)>=0;};nH=f.initInfinite(function(nI){return nB+nI*nC;});nJ=f.takeWhile(nF,nH);return nJ;}},Option:{bind:function(nK,nL){var nM,nN;if(nL.$==0){nM={$:0};}else{nN=nL.$0;nM=nK(nN);}return nM;},exists:function(nO,nP){var nQ,nR;if(nP.$==0){nQ=false;}else{nR=nP.$0;nQ=nO(nR);}return nQ;},fold:function(nS,nT,nU){var nV,nW;if(nU.$==0){nV=nT;}else{nW=nU.$0;nV=(nS(nT))(nW);}return nV;},foldBack:function(nX,nY,nZ){var n0,n1;if(nY.$==0){n0=nZ;}else{n1=nY.$0;n0=(nX(n1))(nZ);}return n0;},forall:function(n2,n3){var n4,n5;if(n3.$==0){n4=true;}else{n5=n3.$0;n4=n2(n5);}return n4;},iter:function(n6,n7){var n8,n9;if(n7.$==0){n8=null;}else{n9=n7.$0;n8=n6(n9);}return n8;},map:function(n_,n$){var oa,ob;if(n$.$==0){oa={$:0};}else{ob=n$.$0;oa={$:1,$0:n_(ob)};}return oa;},toArray:function(oc){var od,oe;if(oc.$==0){od=[];}else{oe=oc.$0;od=[oe];}return od;},toList:function(of){var og,oh;if(of.$==0){og=$.New(I,{$:0});}else{oh=of.$0;og=H.ofArray([oh]);}return og;}},PrintfHelpers:{padNumLeft:function(oi,oj){var ok,ol,om,on;ok=b.get(oi,0);if((ok===" "?true:ok==="+")?true:ok==="-"){om=oi.substr(1);on=oj-1;ol=ok+K.PadLeftWith(om,on,48);}else{ol=K.PadLeftWith(oi,oj,48);}return ol;},plusForPos:function(oo,op){return 0<=oo?"+"+op:op;},plusForPos0:function(oq,or){return 0<=oq?"+"+or:or;},prettyPrint:function(ot){var ou,oE,oF,oG,oH,oI,oK;ou=function(ov){var ow,ox,oy,oC,oD;ow=$$.String(ov);if(ow==="[object Object]"){oy=function(oz){var oA,oB;oA=oz[0];oB=oz[1];return oA+" = "+L.prettyPrint(oB);};oC=E.GetFields(ov);oD=b.map(oy,oC);ox="{"+K.concat("; ",oD)+"}";}else{ox=ow;}return ox;};oE=typeof ot;if(oE=="string"){oF="\""+ot+"\"";}else{if(oE=="object"){if(ot instanceof $$.Array){oI=function(oJ){return L.prettyPrint(oJ);};oK=b.map(oI,ot);oH="[|"+K.concat("; ",oK)+"|]";}else{oH=ou(ot);}oG=oH;}else{oG=$$.String(ot);}oF=oG;}return oF;},printArray:function(oL,oM){var oN;oN=b.map(oL,oM);return"[|"+K.concat("; ",oN)+"|]";},printArray2D:function(oO,oP){var oQ;oQ=f.delay(function(){var oS;oS=oP.length?oP[0].length:0;return f.map(function(oT){var oU;oU=f.delay(function(){return f.map(function(oW){return oO(b.get2D(oP,oT,oW));},c.range(0,oS-1));});return K.concat("; ",oU);},c.range(0,oP.length-1));});return"[["+K.concat("][",oQ)+"]]";},printList:function(oX,oY){var oZ;oZ=f.map(oX,oY);return"["+K.concat("; ",oZ)+"]";},spaceForPos:function(o0,o1){return 0<=o0?" "+o1:o1;},toSafe:function(o2){return o2==null?"":o2;}},Queue:{Clear:function(o3){return o3.splice(0,b.length(o3));},Contains:function(o4,o5){return f.exists(function(o6){return g.Equals(o5,o6);},o4);},CopyTo:function(o7,o8,o9){return b.blit(o7,0,o8,o9,b.length(o7));}},Random:$.Class({Next:function(){return J.floor(J.random()*2147483648);},Next1:function(o_){return o_<0?c.FailWith("'maxValue' must be greater than zero."):J.floor(J.random()*o_);},Next2:function(o$,pa){var pb,pc;if(o$>pa){pb=c.FailWith("'minValue' cannot be greater than maxValue.");}else{pc=pa-o$;pb=o$+J.floor(J.random()*pc);}return pb;},NextBytes:function(pd){var pe;for(pe=0;pe<=b.length(pd)-1;pe++){b.set(pd,pe,J.floor(J.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Remoting:{AjaxProvider:$.Field(function(){return N.New();}),AjaxRemotingProvider:$.Class({},{Async:function(pf,pg){var ph,pi,pj;ph=M.makeHeaders(pf);pi=M.makePayload(pg);pj=function(){var pl,pm;pl=O.get_CancellationToken();pm=function(pn){var po,pG;po=function(pp){var pq,pr,ps,pt,pu,px,pz,pC,pF;pq=pp[0];pr=pp[1];ps=pp[2];pt={contents:true};pu=function(){var pw;if(pt.contents){pt.contents=false;pw=ps(new d("OperationCanceledException"));}else{pw=null;}return pw;};px=j.Register(pn,function(){return pu();});pz=function(pA){var pB;if(pt.contents){pt.contents=false;px.Dispose();pB=pq(B.Activate(C.parse(pA)));}else{pB=null;}return pB;};pC=function(pD){var pE;if(pt.contents){pt.contents=false;px.Dispose();pE=pr(pD);}else{pE=null;}return pE;};pF=M.EndPoint();return M.AjaxProvider().Async(pF,ph,pi,pz,pC);};pG=j.FromContinuations(po);return pG;};return j.Bind(pl,pm);};return j.Delay(pj);},Send:function(pH,pI){var pJ,pK,pL;pJ=P.Async(pH,pI);pK=j.Ignore(pJ);pL={$:0};return j.Start(pK,pL);},Sync:function(pM,pN){var pO,pP,pQ,pR;pO=M.EndPoint();pP=M.makeHeaders(pM);pQ=M.makePayload(pN);pR=M.AjaxProvider().Sync(pO,pP,pQ);return B.Activate(C.parse(pR));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var pS,pT,pU,pV,pW,pX;try{pT=Q.location.href;if(!K.StartsWith(pT,"https://")){pV=Q.location.href;pW=K.Replace(pV,"http://","https://");M.EndPoint=function(){return pW;};pU=true;}else{pU=false;}pS=pU;}catch(pX){pS=false;}return pS;},XhrProvider:$.Class({Async:function(pY,pZ,p0,p1,p2){return M.ajax(true,pY,pZ,p0,p1,p2);},Sync:function(p3,p4,p5){var p6;p6={contents:undefined};M.ajax(false,p3,p4,p5,function(p7){p6.contents=p7;},function(p8){return c.Raise(p8);});return p6.contents;}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(p9){var p_;p_={};p_["content-type"]="application/json";p_["x-websharper-rpc"]=p9;return p_;},makePayload:function(p$){return C.stringify(p$);}},Seq:{append:function(qa,qb){return R.Of(function(){var qd,qe;qd=h.Get(qa);qe=function(qf){var qg,qh,qi,qj,qk,ql;if(qf.s.MoveNext()){qh=qf.s.get_Current();qf.c=qh;qg=true;}else{if(qf.s===qd){qj=h.Get(qb);qf.s=qj;if(qj.MoveNext()){ql=qj.get_Current();qf.c=ql;qk=true;}else{qk=false;}qi=qk;}else{qi=false;}qg=qi;}return qg;};return v.New(qd,null,qe);});},average:function(qm){var qn,qs,qt;qn=f.fold(function(qo){var qp,qq;qp=qo[0];qq=qo[1];return function(qr){return[qp+1,qq+qr];};},[0,0],qm);qs=qn[1];qt=qn[0];return qs/qt;},averageBy:function(qu,qv){var qw,qB,qC;qw=f.fold(function(qx){var qy,qz;qy=qx[0];qz=qx[1];return function(qA){return[qy+1,qz+qu(qA)];};},[0,0],qv);qB=qw[1];qC=qw[0];return qB/qC;},cache:function(qD){var qE,qF,qG;qE=[];qF=h.Get(qD);qG=function(){var qI;qI=function(qJ){var qK,qL,qM,qN,qO,qP;if(qJ.s+1<qE.length){qL=qJ.s+1;qJ.s=qL;qM=qE[qJ.s];qJ.c=qM;qK=true;}else{if(qF.MoveNext()){qO=qJ.s+1;qJ.s=qO;qP=qF.get_Current();qJ.c=qP;qE.push(qJ.get_Current());qN=true;}else{qN=false;}qK=qN;}return qK;};return v.New(0,null,qI);};return R.Of(qG);},choose:function(qQ,qR){var qS;qS=function(qT){var qU,qV,qW;qU=qQ(qT);if(qU.$==0){qV=$.New(I,{$:0});}else{qW=qU.$0;qV=H.ofArray([qW]);}return qV;};return f.collect(qS,qR);},collect:function(qX,qY){return f.concat(f.map(qX,qY));},compareWith:function(qZ,q0,q1){var q2,q3,q4,q5,q6;q2=h.Get(q0);q3=h.Get(q1);q4=0;q5=true;while(q5?q4===0:false){q6=[q2.MoveNext(),q3.MoveNext()];q6[0]?q6[1]?q4=(qZ(q2.get_Current()))(q3.get_Current()):q4=1:q6[1]?q4=-1:q5=false;}return q4;},concat:function(q7){return R.Of(function(){var q9,q_;q9=h.Get(q7);q_=function(q$){var ra,rb,rc,rd,re,rf;ra=q$.s;if(g.Equals(ra,null)){if(q9.MoveNext()){rd=h.Get(q9.get_Current());q$.s=rd;rc=q_(q$);}else{rc=false;}rb=rc;}else{if(ra.MoveNext()){rf=ra.get_Current();q$.c=rf;re=true;}else{q$.s=null;re=q_(q$);}rb=re;}return rb;};return v.New(null,null,q_);});},countBy:function(rg,rh){var ri;ri=function(){var rk,rl,rm,rn,ro,rp,rq,rs,rt;rk={};rl=h.Get(rh);rm=[];while(rl.MoveNext()){rn=rg(rl.get_Current());ro=g.Hash(rn);if(rk.hasOwnProperty(ro)){rp=void(rk[ro]=rk[ro]+1);}else{rm.push(rn);rp=void(rk[ro]=1);}}rq=function(rr){return[rr,rk[g.Hash(rr)]];};rs=rm.slice(0);rt=b.map(rq,rs);return rt;};return f.delay(ri);},delay:function(ru){return R.Of(function(){return h.Get(ru(null));});},distinct:function(rw){return f.distinctBy(function(rx){return rx;},rw);},distinctBy:function(ry,rz){var rA;rA=function(){var rC,rD,rE;rC=h.Get(rz);rD={};rE=function(rF){var rG,rH,rI,rL,rN,rO,rP;if(rC.MoveNext()){rH=rC.get_Current();rI=function(rJ){var rK;rK=ry(rJ);return g.Hash(rK);};rL=function(rM){return rD.hasOwnProperty(rI(rM));};rN=rL(rH);while(rN?rC.MoveNext():false){rH=rC.get_Current();rN=rL(rH);}if(rN){rO=false;}else{rD[rI(rH)]=null;rP=rH;rF.c=rP;rO=true;}rG=rO;}else{rG=false;}return rG;};return v.New(null,null,rE);};return R.Of(rA);},empty:function(){return[];},enumFinally:function(rQ,rR){return R.Of(function(){var rT,rU,rV,rW;try{rU=h.Get(rQ);}catch(rV){rR(null);rU=c.Raise(rV);}rT=rU;rW=function(rX){var rY,rZ,r0,r1;try{if(rT.MoveNext()){r0=rT.get_Current();rX.c=r0;rZ=true;}else{rR(null);rZ=false;}rY=rZ;}catch(r1){rR(null);rY=c.Raise(r1);}return rY;};return v.New(null,null,rW);});},enumUsing:function(r2,r3){return r3(r2);},enumWhile:function(r4,r5){return R.Of(function(){var r7,sf;r7=function(r8){var r9,r_,r$,sa,sb,sc,sd,se;r9=r8.s;if(r9.$==1){r$=r9.$0;if(r$.MoveNext()){sb=r$.get_Current();r8.c=sb;sa=true;}else{sc={$:0};r8.s=sc;sa=r7(r8);}r_=sa;}else{if(r4(null)){se={$:1,$0:h.Get(r5)};r8.s=se;sd=r7(r8);}else{sd=false;}r_=sd;}return r_;};sf={$:0};return v.New(sf,null,r7);});},exists:function(sg,sh){var si,sj;si=h.Get(sh);sj=false;while(!sj?si.MoveNext():false){sj=sg(si.get_Current());}return sj;},exists2:function(sk,sl,sm){var sn,so,sp;sn=h.Get(sl);so=h.Get(sm);sp=false;while((!sp?sn.MoveNext():false)?so.MoveNext():false){sp=(sk(sn.get_Current()))(so.get_Current());}return sp;},filter:function(sq,sr){var ss;ss=function(){var su,sv;su=h.Get(sr);sv=function(sw){var sx,sy,sz,sA,sB;sx=su.MoveNext();sy=su.get_Current();sz=false;while(sx){if(sq(sy)){sB=sy;sw.c=sB;sz=true;sA=sx=false;}else{sA=su.MoveNext()?sy=su.get_Current():sx=false;}}return sz;};return v.New(null,null,sv);};return R.Of(ss);},find:function(sC,sD){var sE,sF,sG;sE=f.tryFind(sC,sD);if(sE.$==0){sF=c.FailWith("KeyNotFoundException");}else{sG=sE.$0;sF=sG;}return sF;},findIndex:function(sH,sI){var sJ,sK,sL;sJ=f.tryFindIndex(sH,sI);if(sJ.$==0){sK=c.FailWith("KeyNotFoundException");}else{sL=sJ.$0;sK=sL;}return sK;},fold:function(sM,sN,sO){var sP,sQ;sP=sN;sQ=h.Get(sO);while(sQ.MoveNext()){sP=(sM(sP))(sQ.get_Current());}return sP;},forall:function(sR,sS){return!f.exists(function(sT){return!sR(sT);},sS);},forall2:function(sU,sV,sW){return!f.exists2(function(sX){return function(sY){return!(sU(sX))(sY);};},sV,sW);},groupBy:function(sZ,s0){return f.delay(function(){var s2,s3,s4,s5,s6,s7,s8;s2={};s3={};s4=[];s5=h.Get(s0);while(s5.MoveNext()){s6=s5.get_Current();s7=sZ(s6);s8=g.Hash(s7);!s2.hasOwnProperty(s8)?s4.push(s7):null;s3[s8]=s7;s2.hasOwnProperty(s8)?s2[s8].push(s6):void(s2[s8]=[s6]);}return b.map(function(s9){return[s9,s2[g.Hash(s9)]];},s4);});},head:function(s_){var s$;s$=h.Get(s_);return s$.MoveNext()?s$.get_Current():f.insufficient();},init:function(ta,tb){return f.take(ta,f.initInfinite(tb));},initInfinite:function(tc){var td;td=function(){var tf;tf=function(tg){var th,ti;th=tc(tg.s);tg.c=th;ti=tg.s+1;tg.s=ti;return true;};return v.New(0,null,tf);};return R.Of(td);},insufficient:function(){return c.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(tj){var tk;tk=h.Get(tj);return!tk.MoveNext();},iter:function(tl,tm){return f.iteri(function(){return function(to){return tl(to);};},tm);},iter2:function(tp,tq,tr){var ts,tt;ts=h.Get(tq);tt=h.Get(tr);while(ts.MoveNext()?tt.MoveNext():false){(tp(ts.get_Current()))(tt.get_Current());}return;},iteri:function(tu,tv){var tw,tx;tw=0;tx=h.Get(tv);while(tx.MoveNext()){(tu(tw))(tx.get_Current());tw=tw+1;}return;},length:function(ty){var tz,tA;tz=0;tA=h.Get(ty);while(tA.MoveNext()){tz=tz+1;}return tz;},map:function(tB,tC){var tD;tD=function(){var tF,tG;tF=h.Get(tC);tG=function(tH){var tI,tJ;if(tF.MoveNext()){tJ=tB(tF.get_Current());tH.c=tJ;tI=true;}else{tI=false;}return tI;};return v.New(null,null,tG);};return R.Of(tD);},mapi:function(tK,tL){return f.mapi2(tK,f.initInfinite(function(tM){return tM;}),tL);},mapi2:function(tN,tO,tP){var tQ;tQ=function(){var tS,tT,tU;tS=h.Get(tO);tT=h.Get(tP);tU=function(tV){var tW,tX;if(tS.MoveNext()?tT.MoveNext():false){tX=(tN(tS.get_Current()))(tT.get_Current());tV.c=tX;tW=true;}else{tW=false;}return tW;};return v.New(null,null,tU);};return R.Of(tQ);},max:function(tY){return f.reduce(function(tZ){return function(t0){return g.Compare(tZ,t0)>=0?tZ:t0;};},tY);},maxBy:function(t1,t2){return f.reduce(function(t3){return function(t4){return g.Compare(t1(t3),t1(t4))>=0?t3:t4;};},t2);},min:function(t5){return f.reduce(function(t6){return function(t7){return g.Compare(t6,t7)<=0?t6:t7;};},t5);},minBy:function(t8,t9){return f.reduce(function(t_){return function(t$){return g.Compare(t8(t_),t8(t$))<=0?t_:t$;};},t9);},nth:function(ua,ub){var uc,ud;ua<0?c.FailWith("negative index requested"):null;uc=-1;ud=h.Get(ub);while(uc<ua){!ud.MoveNext()?f.insufficient():null;uc=uc+1;}return ud.get_Current();},pairwise:function(ue){var uf,uh;uf=function(ug){return[b.get(ug,0),b.get(ug,1)];};uh=f.windowed(2,ue);return f.map(uf,uh);},pick:function(ui,uj){var uk,ul,um;uk=f.tryPick(ui,uj);if(uk.$==0){ul=c.FailWith("KeyNotFoundException");}else{um=uk.$0;ul=um;}return ul;},readOnly:function(un){return R.Of(function(){return h.Get(un);});},reduce:function(up,uq){var ur,us;ur=h.Get(uq);!ur.MoveNext()?c.FailWith("The input sequence was empty"):null;us=ur.get_Current();while(ur.MoveNext()){us=(up(us))(ur.get_Current());}return us;},scan:function(ut,uu,uv){var uw;uw=function(){var uy,uz;uy=h.Get(uv);uz=function(uA){var uB,uC,uD;if(uA.s){if(uy.MoveNext()){uD=(ut(uA.get_Current()))(uy.get_Current());uA.c=uD;uC=true;}else{uC=false;}uB=uC;}else{uA.c=uu;uA.s=true;uB=true;}return uB;};return v.New(false,null,uz);};return R.Of(uw);},skip:function(uE,uF){return R.Of(function(){var uH,uI;uH=h.Get(uF);for(uI=1;uI<=uE;uI++){!uH.MoveNext()?f.insufficient():null;}return uH;});},skipWhile:function(uJ,uK){return R.Of(function(){var uM,uN,uO,uP,uQ;uM=h.Get(uK);uN=true;while(uM.MoveNext()?uJ(uM.get_Current()):false){uN=false;}if(uN){uP=f.empty();uO=h.Get(uP);}else{uQ=function(uR){var uS,uT,uU,uV;if(uR.s){uR.s=false;uT=uM.get_Current();uR.c=uT;uS=true;}else{uU=uM.MoveNext();uV=uM.get_Current();uR.c=uV;uS=uU;}return uS;};uO=v.New(true,null,uQ);}return uO;});},sort:function(uW){return f.sortBy(function(uX){return uX;},uW);},sortBy:function(uY,uZ){return f.delay(function(){var u1;u1=b.ofSeq(uZ);b.sortInPlaceBy(uY,u1);return u1;});},sum:function(u2){return f.fold(function(u3){return function(u4){return u3+u4;};},0,u2);},sumBy:function(u5,u6){return f.fold(function(u7){return function(u8){return u7+u5(u8);};},0,u6);},take:function(u9,u_){return R.Of(function(){var va,vb;va=h.Get(u_);vb=function(vc){var vd,ve,vf,vg;if(vc.s>=u9){vd=false;}else{if(va.MoveNext()){vf=vc.s+1;vc.s=vf;vg=va.get_Current();vc.c=vg;ve=true;}else{va.Dispose();vc.s=u9;ve=false;}vd=ve;}return vd;};return v.New(0,null,vb);});},takeWhile:function(vh,vi){return f.delay(function(){return f.enumUsing(h.Get(vi),function(vk){return f.enumWhile(function(){return vk.MoveNext()?vh(vk.get_Current()):false;},f.delay(function(){return[vk.get_Current()];}));});});},toArray:function(vn){var vo,vp,vq;vo=[];vp=h.Get(vn);while(vp.MoveNext()){vq=vp.get_Current();vo.push(vq);}return vo.slice(0);},toList:function(vr){return H.ofSeq(vr);},truncate:function(vs,vt){return f.delay(function(){return f.enumUsing(h.Get(vt),function(vv){var vw;vw={contents:0};return f.enumWhile(function(){return vv.MoveNext()?vw.contents<vs:false;},f.delay(function(){c.Increment(vw);return[vv.get_Current()];}));});});},tryFind:function(vz,vA){var vB,vC,vD;vB=h.Get(vA);vC={$:0};while(vC.$==0?vB.MoveNext():false){vD=vB.get_Current();vz(vD)?vC={$:1,$0:vD}:null;}return vC;},tryFindIndex:function(vE,vF){var vG,vH,vI,vJ;vG=h.Get(vF);vH=true;vI=0;while(vH?vG.MoveNext():false){vJ=vG.get_Current();vE(vJ)?vH=false:vI=vI+1;}return vH?{$:0}:{$:1,$0:vI};},tryPick:function(vK,vL){var vM,vN;vM=h.Get(vL);vN={$:0};while(g.Equals(vN,{$:0})?vM.MoveNext():false){vN=vK(vM.get_Current());}return vN;},unfold:function(vO,vP){var vQ;vQ=function(){var vS;vS=function(vT){var vU,vV,vW,vX;vU=vO(vT.s);if(vU.$==0){vV=false;}else{vW=vU.$0[0];vX=vU.$0[1];vT.c=vW;vT.s=vX;vV=true;}return vV;};return v.New(vP,null,vS);};return R.Of(vQ);},windowed:function(vY,vZ){vY<=0?c.FailWith("The input must be non-negative."):null;return f.delay(function(){return f.enumUsing(h.Get(vZ),function(v1){var v2;v2=[];return f.append(f.enumWhile(function(){return v2.length<vY?v1.MoveNext():false;},f.delay(function(){v2.push(v1.get_Current());return f.empty();})),f.delay(function(){return v2.length===vY?f.append([v2.slice(0)],f.delay(function(){return f.enumWhile(function(){return v1.MoveNext();},f.delay(function(){v2.shift();v2.push(v1.get_Current());return[v2.slice(0)];}));})):f.empty();}));});});},zip:function(v9,v_){return f.mapi2(function(v$){return function(wa){return[v$,wa];};},v9,v_);},zip3:function(wb,wc,wd){return f.mapi2(function(we){return function(wf){var wg,wh;wg=wf[0];wh=wf[1];return[we,wg,wh];};},wb,f.zip(wc,wd));}},Slice:{array:function(wi,wj,wk){var wl,wm,wn,wo,wp,wq,wr,ws;wl=[wj,wk];if(wl[0].$==0){if(wl[1].$==1){wo=wl[1].$0;wn=wi.slice(0,wo+1);}else{wn=[];}wm=wn;}else{if(wl[1].$==0){wq=wl[0].$0;wp=wi.slice(wq);}else{wr=wl[1].$0;ws=wl[0].$0;wp=wi.slice(ws,wr+1);}wm=wp;}return wm;},array2D:function(wt,wu,wv,ww,wx){var wy,wz,wA,wB,wC,wD,wE,wF,wG,wH,wI,wJ,wK,wL;if(wu.$==1){wA=wu.$0;wz=wA;}else{wz=0;}wy=wz;if(ww.$==1){wD=ww.$0;wC=wD;}else{wC=0;}wB=wC;if(wv.$==1){wG=wv.$0;wF=wG;}else{wF=wt.length-1;}wE=wF;if(wx.$==1){wJ=wx.$0;wI=wJ;}else{wI=(wt.length?wt[0].length:0)-1;}wH=wI;wK=wE-wy+1;wL=wH-wB+1;return b.sub2D(wt,wy,wB,wK,wL);},array2Dfix1:function(wM,wN,wO,wP){var wQ,wR,wS,wT,wU,wV,wW,wX,wY;if(wO.$==1){wS=wO.$0;wR=wS;}else{wR=0;}wQ=wR;if(wP.$==1){wV=wP.$0;wU=wV;}else{wU=(wM.length?wM[0].length:0)-1;}wT=wU;wW=wT-wQ+1;wX=e(wW);for(wY=0;wY<=wW-1;wY++){b.set(wX,wY,b.get2D(wM,wN,wQ+wY));}return wX;},array2Dfix2:function(wZ,w0,w1,w2){var w3,w4,w5,w6,w7,w8,w9,w_,w$;if(w0.$==1){w5=w0.$0;w4=w5;}else{w4=0;}w3=w4;if(w1.$==1){w8=w1.$0;w7=w8;}else{w7=wZ.length-1;}w6=w7;w9=w6-w3+1;w_=e(w9);for(w$=0;w$<=w9-1;w$++){b.set(w_,w$,b.get2D(wZ,w3+w$,w2));}return w_;},setArray:function(xa,xb,xc,xd){var xe,xf,xg,xh,xi,xj;if(xb.$==1){xg=xb.$0;xf=xg;}else{xf=0;}xe=xf;if(xc.$==1){xj=xc.$0;xi=xj;}else{xi=xa.length-1;}xh=xi;return b.setSub(xa,xe,xh-xe+1,xd);},setArray2D:function(xk,xl,xm,xn,xo,xp){var xq,xr,xs,xt,xu,xv,xw,xx,xy,xz,xA,xB;if(xl.$==1){xs=xl.$0;xr=xs;}else{xr=0;}xq=xr;if(xn.$==1){xv=xn.$0;xu=xv;}else{xu=0;}xt=xu;if(xm.$==1){xy=xm.$0;xx=xy;}else{xx=xk.length-1;}xw=xx;if(xo.$==1){xB=xo.$0;xA=xB;}else{xA=(xk.length?xk[0].length:0)-1;}xz=xA;return b.setSub2D(xk,xq,xt,xw-xq+1,xz-xt+1,xp);},setArray2Dfix1:function(xC,xD,xE,xF,xG){var xH,xI,xJ,xK,xL,xM,xN,xO;if(xE.$==1){xJ=xE.$0;xI=xJ;}else{xI=0;}xH=xI;if(xF.$==1){xM=xF.$0;xL=xM;}else{xL=(xC.length?xC[0].length:0)-1;}xK=xL;xN=xK-xH+1;for(xO=0;xO<=xN-1;xO++){b.set2D(xC,xD,xH+xO,b.get(xG,xO));}return;},setArray2Dfix2:function(xP,xQ,xR,xS,xT){var xU,xV,xW,xX,xY,xZ,x0,x1;if(xQ.$==1){xW=xQ.$0;xV=xW;}else{xV=0;}xU=xV;if(xR.$==1){xZ=xR.$0;xY=xZ;}else{xY=xP.length-1;}xX=xY;x0=xX-xU+1;for(x1=0;x1<=x0-1;x1++){b.set2D(xP,xU+x1,xS,b.get(xT,x1));}return;},string:function(x2,x3,x4){var x5,x6,x7,x8,x9,x_,x$,ya;x5=[x3,x4];if(x5[0].$==0){if(x5[1].$==1){x8=x5[1].$0;x7=x2.slice(0,x8+1);}else{x7="";}x6=x7;}else{if(x5[1].$==0){x_=x5[0].$0;x9=x2.slice(x_);}else{x$=x5[1].$0;ya=x5[0].$0;x9=x2.slice(ya,x$+1);}x6=x9;}return x6;}},Stack:{Clear:function(yb){return yb.splice(0,b.length(yb));},Contains:function(yc,yd){return f.exists(function(ye){return g.Equals(yd,ye);},yc);},CopyTo:function(yf,yg,yh){return b.blit(yg,0,yg,yh,b.length(yf));}},Strings:{Compare:function(yi,yj){return c.Compare(yi,yj);},CopyTo:function(yk,yl,ym,yn,yo){return b.blit(K.ToCharArray(yk),yl,ym,yn,yo);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(yp,yq){return K.PadLeftWith(yp,yq,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s;},PadRight:function(yr,ys){return K.PadRightWith(yr,ys,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(yt,yu,yv){var yw;yw=function(yx){var yy,yz,yA,yB,yC;yy=yx.indexOf(yu);if(yy!==-1){yA=K.ReplaceOnce(yx,yu,yv);yB=yy+yv.length;yC=yy+yv.length;yz=K.Substring(yA,0,yC)+yw(yA.substring(yB));}else{yz=yx;}return yz;};return yw(yt);},ReplaceChar:function(yD,yE,yF){return K.Replace(yD,S.fromCharCode(yE),S.fromCharCode(yF));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(yG,yH,yI){var yJ;yJ=K.SplitWith(yG,yH);return yI===1?b.filter(function(yK){return yK!=="";},yJ):yJ;},SplitChars:function(yL,yM,yN){var yO;yO="["+K.RegexEscape(S.fromCharCode.apply(undefined,yM))+"]";return K.Split(yL,new T(yO),yN);},SplitStrings:function(yP,yQ,yR){var yS;yS=K.concat("|",b.map(function(yT){return K.RegexEscape(yT);},yQ));return K.Split(yP,new T(yS),yR);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(yU){return b.init(yU.length,function(yV){return yU.charCodeAt(yV);});},ToCharArrayRange:function(yW,yX,yY){return b.init(yY,function(yZ){return yW.charCodeAt(yX+yZ);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(y0,y1){return b.init(y1.length,function(y2){return y0(y1.charCodeAt(y2));}).join("");},concat:function(y3,y4){return f.toArray(y4).join(y3);},exists:function(y5,y6){return f.exists(y5,K.protect(y6));},forall:function(y7,y8){return f.forall(y7,K.protect(y8));},init:function(y9,y_){return b.init(y9,y_).join("");},iter:function(y$,za){return f.iter(y$,K.protect(za));},iteri:function(zb,zc){return f.iteri(zb,K.protect(zc));},length:function(zd){return K.protect(zd).length;},map:function(ze,zf){return K.collect(function(zg){return S.fromCharCode(ze(zg));},K.protect(zf));},mapi:function(zh,zi){return f.toArray(f.mapi(function(zj){return function(zk){return S.fromCharCode((zh(zj))(zk));};},zi)).join("");},protect:function(zl){return zl===null?"":zl;},replicate:function(zm,zn){return K.init(zm,function(){return zn;});}},Unchecked:{Compare:function(zp,zq){var zr,zs,zt,zu;if(zp===zq){zr=0;}else{zs=typeof zp;if(zs==="undefined"){zu=typeof zq;zt=zu==="undefined"?0:-1;}else{zt=zs==="function"?c.FailWith("Cannot compare function values."):zs==="boolean"?zp<zq?-1:1:zs==="number"?zp<zq?-1:1:zs==="string"?zp<zq?-1:1:zp===null?-1:zq===null?1:"CompareTo"in zp?zp.CompareTo(zq):(zp instanceof e?zq instanceof e:false)?g.compareArrays(zp,zq):(zp instanceof s?zq instanceof s:false)?g.compareDates(zp,zq):g.compareArrays(E.GetFields(zp),E.GetFields(zq));}zr=zt;}return zr;},Equals:function(zv,zw){var zx,zy;if(zv===zw){zx=true;}else{zy=typeof zv;zx=zy==="object"?zv===null?false:zw===null?false:"Equals"in zv?zv.Equals(zw):(zv instanceof e?zw instanceof e:false)?g.arrayEquals(zv,zw):(zv instanceof s?zw instanceof s:false)?g.dateEquals(zv,zw):g.arrayEquals(E.GetFields(zv),E.GetFields(zw)):false;}return zx;},Hash:function(zz){var zA;zA=typeof zz;return zA==="function"?0:zA==="boolean"?zz?1:0:zA==="number"?zz:zA==="string"?g.hashString(zz):zA==="object"?zz==null?0:zz instanceof e?g.hashArray(zz):g.hashObject(zz):0;},arrayEquals:function(zB,zC){var zD,zE,zF;if(b.length(zB)===b.length(zC)){zE=true;zF=0;while(zE?zF<b.length(zB):false){!g.Equals(b.get(zB,zF),b.get(zC,zF))?zE=false:null;zF=zF+1;}zD=zE;}else{zD=false;}return zD;},compareArrays:function(zG,zH){var zI,zJ,zK,zL;if(b.length(zG)<b.length(zH)){zI=-1;}else{if(b.length(zG)>b.length(zH)){zJ=1;}else{zK=0;zL=0;while(zK===0?zL<b.length(zG):false){zK=g.Compare(b.get(zG,zL),b.get(zH,zL));zL=zL+1;}zJ=zK;}zI=zJ;}return zI;},compareDates:function(zM,zN){return c.Compare(zM.getTime(),zN.getTime());},dateEquals:function(zO,zP){return zO.getTime()===zP.getTime();},hashArray:function(zQ){var zR,zS;zR=-34948909;for(zS=0;zS<=b.length(zQ)-1;zS++){zR=g.hashMix(zR,g.Hash(b.get(zQ,zS)));}return zR;},hashMix:function(zT,zU){return(zT<<5)+zT+zU;},hashObject:function(zV){var zW,zX,z0;if("GetHashCode"in zV){zW=zV.GetHashCode();}else{zX=function(zY,zZ){return g.hashMix(zY,zZ);};z0={contents:0};E.ForEach(zV,function(z1){z0.contents=zX(zX(z0.contents,g.hashString(z1)),g.Hash(zV[z1]));return false;});zW=z0.contents;}return zW;},hashString:function(z2){var z3,z4,z5;if(z2===null){z3=0;}else{z4=5381;for(z5=0;z5<=z2.length-1;z5++){z4=g.hashMix(z4,z2.charCodeAt(z5)<<0);}z3=z4;}return z3;}},Util:{addListener:function(z6,z7){z6.Subscribe(q.observer(z7));},observer:function(z8){return{OnCompleted:function(){},OnError:function(){},OnNext:z8};},subscribeTo:function(z$,Aa){return z$.Subscribe(q.observer(Aa));}}}});$.OnInit(function(){a=$.Safe($$.Number);b=$.Safe($$.WebSharper.Arrays);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.Error);e=$.Safe($$.Array);f=$.Safe($$.WebSharper.Seq);g=$.Safe($$.WebSharper.Unchecked);h=$.Safe($$.WebSharper.Enumerator);i=$.Safe($$.WebSharper.Arrays2D);j=$.Safe($$.WebSharper.Concurrency);k=$.Safe($$.WebSharper.AggregateException);l=$.Safe($$.WebSharper.Option);m=$.Safe($$.clearTimeout);n=$.Safe($$.setTimeout);o=$.Safe($$.WebSharper.CancellationTokenSource);p=$.Safe($$.WebSharper.Char);q=$.Safe($$.WebSharper.Util);r=$.Safe($$.WebSharper.Lazy);s=$.Safe($$.Date);t=$.Safe($$.console);u=$.Safe(j.Scheduler);v=$.Safe(h.T);w=$.Safe($$.WebSharper.Html);x=$.Safe(w.Client);y=$.Safe(x.Activator);z=$.Safe($$.document);A=$.Safe($$.jQuery);B=$.Safe($$.WebSharper.Json);C=$.Safe($$.JSON);D=$.Safe($$.WebSharper.JavaScript);E=$.Safe(D.JSModule);F=$.Safe(x.HtmlContentExtensions);G=$.Safe(F.SingleNode);H=$.Safe($$.WebSharper.List);I=$.Safe(H.T);J=$.Safe($$.Math);K=$.Safe($$.WebSharper.Strings);L=$.Safe($$.WebSharper.PrintfHelpers);M=$.Safe($$.WebSharper.Remoting);N=$.Safe(M.XhrProvider);O=$.Safe($$.WebSharper.AsyncProxy);P=$.Safe(M.AjaxRemotingProvider);Q=$.Safe($$.window);R=$.Safe($$.WebSharper.Enumerable);S=$.Safe($$.String);return T=$.Safe($$.RegExp);});$.OnLoad(function(){M.EndPoint();M.AjaxProvider();y.Activate();j.scheduler();j.defCTS();j.GetCT();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;$.Define($$,{WebSharper:{Testing:{Assert:{For:function(p,q,r){var s,t,u;s=q.Base;for(t=0;t<=a.length(s)-1;t++){r(a.get(q.Base,t));}for(u=1;u<=p;u++){r(q.Next.call(null,null));}return;},Raises:function(v){var w,x;try{v(null);w=b(false,"Assert raises exception test failed.");}catch(x){w=b(true,"Pass.");}return w;}},Pervasives:{Is:function(y,z){var A,B;if(!c.Equals(y,z)){B=[y,z];if(d){d.log.apply(d,["Equality test failed."].concat(B));}A=b(false,"Equality test failed.");}else{A=b(true,"Pass.");}return A;},Isnt:function(C,D){var E,F;if(c.Equals(C,D)){F=[C,D];if(d){d.log.apply(d,["Inequality test failed."].concat(F));}E=b(false,"Inequality test failed.");}else{E=b(true,"Pass.");}return E;},Test:function(G){return g.New(G);},TestBuilder:$.Class({Delay:function(H){return h(this.name,H);},Zero:function(){return null;}},{New:function(I){var J;J=$.New(this,{});J.name=I;return J;}})},Random:{ArrayOf:function(K){return{Base:[[]],Next:function(){var M;M=i.Natural().Next.call(null,null)%100;return a.init(M,function(){return K.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return i.StandardUniform().Next.call(null,null)>0.5;}};}),Const:function(P){return{Base:[P],Next:function(){return P;}};},Exponential:function(R){return{Base:[],Next:function(){var T;T=i.StandardUniform().Next.call(null,null);return-j.log(1-T)/R;}};},Float:$.Field(function(){return{Base:[0],Next:function(){var V;V=i.Boolean().Next.call(null,null)?1:-1;return V*i.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,k,l,-l],Next:function(){return i.Float().Next.call(null,null);}};}),FloatWithin:function(X,Y){return{Base:[X,Y],Next:function(){return X+(Y-X)*j.random();}};},Implies:function(_0,_1){return!_0?true:_1;},Imply:function(_2,_3){return i.Implies(_2,_3);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return j.round(i.Float().Next.call(null,null));}};}),ListOf:function(_5){var _6,_8;_6=function(_7){return m.ofArray(_7);};_8=i.ArrayOf(_5);return i.Map(_6,_8);},Map:function(_9,_){var ba;ba=_.Next;return{Base:a.map(_9,_.Base),Next:function(bb){return _9(ba(bb));}};},Mix:function(bb,bc){var bd;bd={contents:false};return{Base:bb.Base.concat(bc.Base),Next:function(){bd.contents=!bd.contents;return bd.contents?bb.Next.call(null,null):bc.Next.call(null,null);}};},Natural:$.Field(function(){var bf;bf=i.Int().Next;return{Base:[0,1],Next:function(bg){var bh;bh=bf(bg);return j.abs(bh);}};}),OneOf:function(bi){var bj;bj=i.Within(1,a.length(bi));return{Base:bi,Next:function(){return a.get(bi,bj.Next.call(null,null)-1);}};},OptionOf:function(bl){return i.Mix(i.Const({$:0}),i.Map(function(bm){return{$:1,$0:bm};},bl));},StandardUniform:$.Field(function(){return{Base:[],Next:function(){return j.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){var bp,bq;bp=i.Natural().Next.call(null,null)%100;bq=a.init(bp,function(){return i.Int().Next.call(null,null)%256;});return n.fromCharCode.apply(undefined,bq);}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:i.String().Next};}),Tuple2Of:function(bs,bt){return{Base:o.toArray(o.delay(function(){return o.collect(function(bv){return o.map(function(bw){return[bv,bw];},bt.Base);},bs.Base);})),Next:function(){return[bs.Next.call(null,null),bt.Next.call(null,null)];}};},Tuple3Of:function(by,bz,bA){return{Base:o.toArray(o.delay(function(){return o.collect(function(bC){return o.collect(function(bD){return o.map(function(bE){return[bC,bD,bE];},bA.Base);},bz.Base);},by.Base);})),Next:function(){return[by.Next.call(null,null),bz.Next.call(null,null),bA.Next.call(null,null)];}};},Within:function(bG,bH){return{Base:[bG,bH],Next:function(){return i.Natural().Next.call(null,null)%(bH-bG)+bG;}};}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Arrays);b=$.Safe($$.ok);c=$.Safe($$.WebSharper.Unchecked);d=$.Safe($$.console);e=$.Safe($$.WebSharper.Testing);f=$.Safe(e.Pervasives);g=$.Safe(f.TestBuilder);h=$.Safe($$.test);i=$.Safe(e.Random);j=$.Safe($$.Math);k=$.Safe($$.NaN);l=$.Safe($$.Infinity);m=$.Safe($$.WebSharper.List);n=$.Safe($$.String);return o=$.Safe($$.WebSharper.Seq);});$.OnLoad(function(){i.StringExhaustive();i.String();i.StandardUniform();i.Natural();i.Int();i.FloatExhaustive();i.Float();i.Boolean();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{WebSharper:{Html:{Client:{Attr:{Attr:$.Field(function(){return c.Attr();})},Attribute:$.Class({get_Body:function(){var u;u=this.HtmlProvider.CreateAttribute(this.Name);u.value=this.Value;return u;}},{New:function(v,w,x){var y;y=d.New1(v);y.Name=w;y.Value=x;return y;},New1:function(z){var A;A=$.New(this,e.New());A.HtmlProvider=z;return A;}}),AttributeBuilder:$.Class({NewAttr:function(B,C){var D;D=d.New(this.HtmlProvider,B,C);return D;}},{New:function(E){var F;F=$.New(this,{});F.HtmlProvider=E;return F;}}),Default:{OnLoad:function(G){return c.HtmlProvider().OnDocumentReady(G);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(H,I){var J;J=d.New(this.HtmlProvider,H,I);return J;}},{New:function(K){var L;L=$.New(this,{});L.HtmlProvider=K;return L;}}),DeprecatedTagBuilder:$.Class({NewTag:function(M,N){var O,P,Q;O=f.New(this.HtmlProvider,M);P=g.Get(N);while(P.MoveNext()){Q=P.get_Current();O.AppendI(Q);}return O;}},{New:function(R){var S;S=$.New(this,{});S.HtmlProvider=R;return S;}}),Element:$.Class({AppendI:function(T){var U,V,W,X,Y,Z,_0,_1,_2;U=T.get_Body();if(U.nodeType===2){W=this["HtmlProvider@33"];X=this.get_Body();V=W.AppendAttribute(X,U);}else{Y=this["HtmlProvider@33"];Z=this.get_Body();_0=T.get_Body();V=Y.AppendNode(Z,_0);}if(this.IsRendered){_1=T.Render();}else{_2=this.RenderInternal;_1=void(this.RenderInternal=function(){_2(null);return T.Render();});}return _1;},AppendN:function(_4){var _5,_6;_5=this["HtmlProvider@33"];_6=this.get_Body();return _5.AppendNode(_6,_4);},OnLoad:function(_7){var _8,_9;_8=this["HtmlProvider@33"];_9=this.get_Body();return _8.OnLoad(_9,_7);},Render:function(){var _;if(!this.IsRendered){this.RenderInternal.call(null,null);_=void(this.IsRendered=true);}else{_=null;}return _;},get_Body:function(){return this.Dom;},get_Html:function(){return this["HtmlProvider@33"].GetHtml(this.get_Body());},get_HtmlProvider:function(){return this["HtmlProvider@33"];},get_Id:function(){var ba,bb,bc,bd,be,bf,bg;ba=this["HtmlProvider@33"];bb=this.get_Body();bc=ba.GetProperty(bb,"id");if(bc===undefined?true:bc===""){be="id"+h.round(h.random()*100000000);bf=this["HtmlProvider@33"];bg=this.get_Body();bf.SetProperty(bg,"id",be);bd=be;}else{bd=bc;}return bd;},get_Item:function(bg){var bh,bi,bj,bk;bh=this["HtmlProvider@33"];bi=this.get_Body();bh.GetAttribute(bi,bg);bj=this["HtmlProvider@33"];bk=this.get_Body();return bj.GetAttribute(bk,bg);},get_Text:function(){return this["HtmlProvider@33"].GetText(this.get_Body());},get_Value:function(){return this["HtmlProvider@33"].GetValue(this.get_Body());},set_Html:function(bl){var bm,bn;bm=this["HtmlProvider@33"];bn=this.get_Body();return bm.SetHtml(bn,bl);},set_Item:function(bo,bp){var bq,br;bq=this["HtmlProvider@33"];br=this.get_Body();return bq.SetAttribute(br,bo,bp);},set_Text:function(bs){var bt,bu;bt=this["HtmlProvider@33"];bu=this.get_Body();return bt.SetText(bu,bs);},set_Value:function(bv){var bw,bx;bw=this["HtmlProvider@33"];bx=this.get_Body();return bw.SetValue(bx,bv);}},{New:function(by,bz){var bA,bB;bA=f.New1(by);bB=i.createElement(bz);bA.RenderInternal=function(){};bA.Dom=bB;bA.IsRendered=false;return bA;},New1:function(bD){var bE;bE=$.New(this,e.New());bE["HtmlProvider@33"]=bD;return bE;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(bF,bG){return j(bG.get_Body()).bind("blur",function(){return bF(bG);});},OnChange:function(bH,bI){return j(bI.get_Body()).bind("change",function(){return bH(bI);});},OnClick:function(bJ,bK){return this.OnMouse("click",bJ,bK);},OnDoubleClick:function(bL,bM){return this.OnMouse("dblclick",bL,bM);},OnError:function(bN,bO){return j(bO.get_Body()).bind("error",function(){return bN(bO);});},OnEvent:function(bP,bQ,bR){return j(bR.get_Body()).bind(bP,function(bS){return(bQ(bR))(bS);});},OnFocus:function(bT,bU){return j(bU.get_Body()).bind("focus",function(){return bT(bU);});},OnKeyDown:function(bV,bW){return j(bW.get_Body()).bind("keydown",function(bX){return(bV(bW))({KeyCode:bX.keyCode,Event:bX});});},OnKeyPress:function(bY,bZ){return j(bZ.get_Body()).keypress(function(b0){return(bY(bZ))({CharacterCode:b0.which,Event:b0});});},OnKeyUp:function(b1,b2){return j(b2.get_Body()).bind("keyup",function(b3){return(b1(b2))({KeyCode:b3.keyCode,Event:b3});});},OnLoad:function(b4,b5){return j(b5.get_Body()).bind("load",function(){return b4(b5);});},OnMouse:function(b6,b7,b8){return j(b8.get_Body()).bind(b6,function(b9){return(b7(b8))({X:b9.pageX,Y:b9.pageY,Event:b9});});},OnMouseDown:function(b_,b$){return this.OnMouse("mousedown",b_,b$);},OnMouseEnter:function(ca,cb){return this.OnMouse("mouseenter",ca,cb);},OnMouseLeave:function(cc,cd){return this.OnMouse("mouseleave",cc,cd);},OnMouseMove:function(ce,cf){return this.OnMouse("mousemove",ce,cf);},OnMouseOut:function(cg,ch){return this.OnMouse("mouseout",cg,ch);},OnMouseUp:function(ci,cj){return this.OnMouse("mouseup",ci,cj);},OnResize:function(ck,cl){return j(cl.get_Body()).bind("resize",function(){return ck(cl);});},OnScroll:function(cm,cn){return j(cn.get_Body()).bind("scroll",function(){return cm(cn);});},OnSelect:function(co,cp){return j(cp.get_Body()).bind("select",function(){return co(cp);});},OnSubmit:function(cq,cr){return j(cr.get_Body()).bind("submit",function(){return cq(cr);});},OnUnLoad:function(cs,ct){return j(ct.get_Body()).bind("unload",function(){return cs(ct);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return l.New();})},Implementation:{Attr:$.Field(function(){return m.New(c.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return n.New(c.HtmlProvider());}),HtmlProvider:$.Field(function(){return o.New();}),JQueryHtmlProvider:$.Class({AddClass:function(cu,cv){return j(cu).addClass(cv);},AppendAttribute:function(cw,cx){var cy,cz;cy=cx.nodeName;cz=cx.value;return this.SetAttribute(cw,cy,cz);},AppendNode:function(cA,cB){return j(cA).append(j(cB));},Clear:function(cC){return j(cC).contents().detach();},CreateAttribute:function(cD){return i.createAttribute(cD);},CreateElement:function(cE){return i.createElement(cE);},CreateTextNode:function(cF){return i.createTextNode(cF);},GetAttribute:function(cG,cH){return j(cG).attr(cH);},GetHtml:function(cI){return j(cI).html();},GetProperty:function(cJ,cK){var cL;cL=j(cJ).attr(cK);return cL;},GetText:function(cM){return cM.textContent;},GetValue:function(cN){var cO;cO=j(cN).val();return cO;},HasAttribute:function(cP,cQ){return j(cP).attr(cQ)!=null;},OnDocumentReady:function(cR){return j(i).ready(cR);},OnLoad:function(cS,cT){return j(cS).ready(cT);},Remove:function(cU){return j(cU).remove();},RemoveAttribute:function(cV,cW){return j(cV).removeAttr(cW);},RemoveClass:function(cX,cY){return j(cX).removeClass(cY);},SetAttribute:function(cZ,c0,c1){return j(cZ).attr(c0,c1);},SetCss:function(c2,c3,c4){return j(c2).css(c3,c4);},SetHtml:function(c5,c6){return j(c5).html(c6);},SetProperty:function(c7,c8,c9){var c_;c_=j(c7).prop(c8,c9);return c_;},SetStyle:function(c$,da){return j(c$).attr("style",da);},SetText:function(db,dc){db.textContent=dc;},SetValue:function(dd,de){return j(dd).val(de);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return p.New(c.HtmlProvider());})},Operators:{OnAfterRender:function(df,dg){var dh;dh=dg.Render;dg.Render=function(){dh.apply(dg);return df(dg);};return;},OnBeforeRender:function(dj,dk){var dl;dl=dk.Render;dk.Render=function(){dj(dk);return dl.apply(dk);};return;},add:function(dn,_do){var dp,dq;dp=g.Get(_do);while(dp.MoveNext()){dq=dp.get_Current();dn.AppendI(dq);}return dn;}},Pagelet:$.Class({AppendTo:function(dr){var ds,dt;ds=i.getElementById(dr);dt=ds.appendChild(this.get_Body());return this.Render();},Render:function(){return null;},ReplaceInDom:function(du){var dv;dv=du.parentNode.replaceChild(this.get_Body(),du);return this.Render();}},{New:function(){return $.New(this,{});}}),TagBuilder:$.Class({NewTag:function(dw,dx){var dy,dz,dA;dy=f.New(this.HtmlProvider,dw);dz=g.Get(dx);while(dz.MoveNext()){dA=dz.get_Current();dy.AppendI(dA);}return dy;},text:function(dB){return q.New(dB);}},{New:function(dC){var dD;dD=$.New(this,{});dD.HtmlProvider=dC;return dD;}}),Tags:{Deprecated:$.Field(function(){return c.DeprecatedHtml();}),Tags:$.Field(function(){return c.Tags();})},Text:$.Class({get_Body:function(){return i.createTextNode(this.text);}},{New:function(dE){var dF;dF=$.New(this,e.New());dF.text=dE;return dF;}})}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Html);b=$.Safe(a.Client);c=$.Safe(b.Implementation);d=$.Safe(b.Attribute);e=$.Safe(b.Pagelet);f=$.Safe(b.Element);g=$.Safe($$.WebSharper.Enumerator);h=$.Safe($$.Math);i=$.Safe($$.document);j=$.Safe($$.jQuery);k=$.Safe(b.Events);l=$.Safe(k.JQueryEventSupport);m=$.Safe(b.AttributeBuilder);n=$.Safe(b.DeprecatedTagBuilder);o=$.Safe(c.JQueryHtmlProvider);p=$.Safe(b.TagBuilder);q=$.Safe(b.Text);r=$.Safe(b.Attr);s=$.Safe(b.EventsPervasives);return t=$.Safe(b.Tags);});$.OnLoad(function(){$.Inherit(d,e);$.Inherit(f,e);$.Inherit(q,e);t.Tags();t.Deprecated();c.Tags();c.HtmlProvider();c.DeprecatedHtml();c.Attr();s.Events();r.Attr();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{WebSharper:{Control:{Disposable:{Of:function(E){return{Dispose:E};}},Event:{Event:$.Class({AddHandler:function(F){return this.Handlers.Add(F);},RemoveHandler:function(G){var H,J,K,M,N;H=function(I){return a.Equals(G,I);};J=this.Handlers;K=function(L){return J.RemoveAt(L);};M=this.Handlers;N=b.tryFindIndex(H,M);return c.iter(K,N);},Subscribe:function(O){var P,S=this;P=function(Q){return O.OnNext(Q);};this.AddHandler(P);return e.Of(function(){return S.RemoveHandler(P);});},Trigger:function(T){var U,V,W;U=this.Handlers.ToArray();for(V=0;V<=U.length-1;V++){W=f.get(U,V);W(T);}return;}})},EventModule:{Choose:function(X,Y){var Z;Z=g.New();h.addListener(Y,function(_0){var _1,_2,_3;_1=X(_0);if(_1.$==0){_2=null;}else{_3=_1.$0;_2=Z.event.Trigger(_3);}return _2;});return Z.event;},Filter:function(_4,_5){var _6;_6=$.New(j,{Handlers:m.New2()});h.addListener(_5,function(_7){return _4(_7)?_6.Trigger(_7):null;});return _6;},Map:function(_8,_9){var _;_=$.New(j,{Handlers:m.New2()});h.addListener(_9,function(ba){return _.Trigger(_8(ba));});return _;},Merge:function(ba,bb){var bc;bc=$.New(j,{Handlers:m.New2()});h.addListener(ba,function(bd){return bc.Trigger(bd);});h.addListener(bb,function(be){return bc.Trigger(be);});return bc;},Pairwise:function(bf){var bg,bh;bg={contents:{$:0}};bh=$.New(j,{Handlers:m.New2()});h.addListener(bf,function(bi){var bj,bk,bl;bj=bg.contents;if(bj.$==1){bl=bj.$0;bg.contents={$:1,$0:bi};bk=bh.Trigger([bl,bi]);}else{bk=void(bg.contents={$:1,$0:bi});}return bk;});return bh;},Partition:function(bm,bn){return[n.Filter(bm,bn),n.Filter(function(bo){var bp;bp=bm(bo);return!bp;},bn)];},Scan:function(bq,br,bs){var bt,bu;bt={contents:br};bu=function(bv){bt.contents=(bq(bt.contents))(bv);return bt.contents;};return n.Map(bu,bs);},Split:function(bw,bx){var by,bD;by=function(bz){var bA,bB,bC;bA=bw(bz);if(bA.$==0){bC=bA.$0;bB={$:1,$0:bC};}else{bB={$:0};}return bB;};bD=function(bE){var bF,bG,bH;bF=bw(bE);if(bF.$==1){bH=bF.$0;bG={$:1,$0:bH};}else{bG={$:0};}return bG;};return[n.Choose(by,bx),n.Choose(bD,bx)];}},FSharpEvent:$.Class({},{New:function(){var bI;bI=$.New(this,{});bI.event=$.New(j,{Handlers:m.New2()});return bI;}}),HotStream:{HotStream:$.Class({Subscribe:function(bJ){var bK,bL;this.Latest.contents.$==1?bJ.OnNext(this.Latest.contents.$0):null;bL=this.Event;bK=h.subscribeTo(bL.event,function(bM){return bJ.OnNext(bM);});return bK;},Trigger:function(bN){var bO;this.Latest.contents={$:1,$0:bN};bO=this.Event;return bO.event.Trigger(bN);}},{New:function(){return $.New(p,{Latest:{contents:{$:0}},Event:g.New()});}})},MailboxProcessor:$.Class({PostAndAsyncReply:function(bP,bQ){var bR,bU=this;bR=function(){var bT,bV;bT=bU.PostAndTryAsyncReply(bP,bQ);bV=function(bW){var bX,bY,bZ;if(bW.$==1){bZ=bW.$0;bY=bZ;}else{bY=q.Raise(new r("TimeoutException"));}bX=bY;return s.Return(bX);};return s.Bind(bT,bV);};return s.Delay(bR);},PostAndTryAsyncReply:function(b0,b1){var b2,b3,ca=this;b2=q.DefaultArg(b1,this.get_DefaultTimeout());b3=function(b4){var b5,b6,b7,b8,b9,b$,cb,cc,cf,cg;b5=b4[0];b6=b4[1];b7=b4[2];if(b2<0){b9=b0(function(b_){return b5({$:1,$0:b_});});b$=ca.mailbox.AddLast(b9);b8=ca.resume();}else{cb={contents:true};cc=b0(function(cd){var ce;if(cb.contents){cb.contents=false;ce=b5({$:1,$0:cd});}else{ce=null;}return ce;});cf=ca.mailbox.AddLast(cc);ca.resume();cg=t(function(){var ci;if(cb.contents){cb.contents=false;ci=b5({$:0});}else{ci=null;}return ci;},b2);b8=void cg;}return b8;};return s.FromContinuations(b3);},Receive:function(cj){var ck,cn=this;ck=function(){var cm,co;cm=cn.TryReceive(cj);co=function(cp){var cq,cr,cs;if(cp.$==1){cs=cp.$0;cr=cs;}else{cr=q.Raise(new r("TimeoutException"));}cq=cr;return s.Return(cq);};return s.Bind(cm,co);};return s.Delay(ck);},Scan:function(ct,cu){var cv,cy=this;cv=function(){var cx,cz;cx=cy.TryScan(ct,cu);cz=function(cA){var cB,cC,cD;if(cA.$==1){cD=cA.$0;cC=cD;}else{cC=q.Raise(new r("TimeoutException"));}cB=cC;return s.Return(cB);};return s.Bind(cx,cz);};return s.Delay(cv);},Start:function(){var cE,cF,cK=this,cR;if(this.started){cE=q.FailWith("The MailboxProcessor has already been started.");}else{this.started=true;cF=function(){var cH,cN,cO;cH=function(){var cJ,cL;cJ=cK.initial.call(null,cK);cL=function(){return s.Return(null);};return s.Bind(cJ,cL);};cN=s.Delay(cH);cO=function(cP){var cQ;cQ=cK.errorEvent;cQ.event.Trigger(cP);return s.Return(null);};return s.TryWith(cN,cO);};cR=s.Delay(cF);cE=cK.startAsync(cR);}return cE;},TryReceive:function(cS){var cT,cU,cZ=this;cT=q.DefaultArg(cS,this.get_DefaultTimeout());cU=function(cV){var cW,cX,cY,c0,c1,c2,c5,c6,c7,c_,dc,dd;cW=cV[0];cX=cV[1];cY=cV[2];if(a.Equals(cZ.mailbox.get_First(),null)){if(cT<0){c2=function(){var c4;c4=cZ.dequeue();cW({$:1,$0:c4});return s.Return(null);};c5=s.Delay(c2);c1=void(cZ.savedCont={$:1,$0:c5});}else{c6={contents:true};c7=t(function(){var c9;if(c6.contents){c6.contents=false;cZ.savedCont={$:0};c9=cW({$:0});}else{c9=null;}return c9;},cT);c_=function(){var da,db;if(c6.contents){c6.contents=false;u(c7);db=cZ.dequeue();cW({$:1,$0:db});da=s.Return(null);}else{da=s.Return(null);}return da;};dc=s.Delay(c_);c1=void(cZ.savedCont={$:1,$0:dc});}c0=c1;}else{dd=cZ.dequeue();c0=cW({$:1,$0:dd});}return c0;};return s.FromContinuations(cU);},TryScan:function(de,df){var dg,dh,dm=this;dg=q.DefaultArg(df,this.get_DefaultTimeout());dh=function(){var dj,dq,dr,ds,dt,dw,d1;dj=function(){var dl,dn,_do,dp;dl=dm.mailbox.get_First();dn={$:0};while(!a.Equals(dl,null)){_do=de(dl.v);if(_do.$==0){dp=dl=dl.n;}else{dm.mailbox.Remove(dl);dl=null;dp=dn=_do;}}return dn;};dq=dj(null);if(dq.$==1){ds=dq.$0;dt=function(du){var dv;dv={$:1,$0:du};return s.Return(dv);};dr=s.Bind(ds,dt);}else{dw=function(dx){var dy,dz,dA,dB,dC,dM,dN,dQ;dy=dx[0];dz=dx[1];dA=dx[2];if(dg<0){dC=function(){var dE,dL;dE=function(){var dG,dH,dI,dJ;dG=de(dm.mailbox.get_First().v);if(dG.$==1){dI=dG.$0;dm.mailbox.RemoveFirst();dJ=function(dK){dy({$:1,$0:dK});return s.Return(null);};dH=s.Bind(dI,dJ);}else{dC(null);dH=s.Return(null);}return dH;};dL=s.Delay(dE);dm.savedCont={$:1,$0:dL};return;};dB=dC(null);}else{dM={contents:true};dN=t(function(){var dP;if(dM.contents){dM.contents=false;dm.savedCont={$:0};dP=dy({$:0});}else{dP=null;}return dP;},dg);dQ=function(){var dS,d0;dS=function(){var dU,dV,dW,dX;dU=de(dm.mailbox.get_First().v);if(dU.$==1){dW=dU.$0;dm.mailbox.RemoveFirst();dX=function(dY){var dZ;if(dM.contents){dM.contents=false;u(dN);dy({$:1,$0:dY});dZ=s.Return(null);}else{dZ=s.Return(null);}return dZ;};dV=s.Bind(dW,dX);}else{dQ(null);dV=s.Return(null);}return dV;};d0=s.Delay(dS);dm.savedCont={$:1,$0:d0};return;};dB=dQ(null);}return dB;};d1=s.FromContinuations(dw);dr=d1;}return dr;};return s.Delay(dh);},dequeue:function(){var d2;d2=this.mailbox.get_First().v;this.mailbox.RemoveFirst();return d2;},get_CurrentQueueLength:function(){return this.mailbox.get_Count();},get_DefaultTimeout:function(){return this["DefaultTimeout@"];},get_Error:function(){var d3;d3=this.errorEvent;return d3.event;},resume:function(){var d4,d5,d6;d4=this.savedCont;if(d4.$==1){d6=d4.$0;this.savedCont={$:0};d5=this.startAsync(d6);}else{d5=null;}return d5;},set_DefaultTimeout:function(d7){this["DefaultTimeout@"]=d7;return;},startAsync:function(d8){var d9;d9=this.token;return s.Start(d8,d9);}},{New:function(d_,d$){var ea,eb,ec,ed,ee,eg;ea=$.New(this,{});ea.initial=d_;ea.token=d$;ea.started=false;ea.errorEvent=g.New();ea.mailbox=w.New();ea.savedCont={$:0};eb=ea.token;if(eb.$==0){ec=null;}else{ed=eb.$0;ee=function(){return ea.resume();};eg=s.Register(ed,function(){return ee();});ec=void eg;}ea["DefaultTimeout@"]=-1;return ea;},Start:function(ei,ej){var ek;ek=x.New(ei,ej);ek.Start();return ek;}}),Observable:{Aggregate:function(el,em,en){var eo;eo=function(ep){var eq,er,ew;eq={contents:em};er=function(es){return y.Protect(function(){return(en(eq.contents))(es);},function(eu){eq.contents=eu;return ep.OnNext(eu);},function(ev){return ep.OnError(ev);});};ew=z.New(er,function(ex){return ep.OnError(ex);},function(){return ep.OnCompleted();});return el.Subscribe(ew);};return y.New(eo);},Choose:function(ez,eA){var eB;eB=function(eC){var eD,eK;eD=function(eE){var eG;eG=function(eH){return eC.OnNext(eH);};return y.Protect(function(){return ez(eE);},function(eI){return c.iter(eG,eI);},function(eJ){return eC.OnError(eJ);});};eK=z.New(eD,function(eL){return eC.OnError(eL);},function(){return eC.OnCompleted();});return eA.Subscribe(eK);};return y.New(eB);},CombineLatest:function(eN,eO,eP){var eQ;eQ=function(eR){var eS,eT,eU,e4,e6,e9,e$,fc,fd;eS={contents:{$:0}};eT={contents:{$:0}};eU=function(){var eW,eX,eY,eZ,e0;eW=[eS.contents,eT.contents];if(eW[0].$==1){if(eW[1].$==1){eZ=eW[0].$0;e0=eW[1].$0;eY=y.Protect(function(){return(eP(eZ))(e0);},function(e2){return eR.OnNext(e2);},function(e3){return eR.OnError(e3);});}else{eY=null;}eX=eY;}else{eX=null;}return eX;};e4=function(e5){eS.contents={$:1,$0:e5};return eU(null);};e6=z.New(e4,function(){},function(){});e9=function(e_){eT.contents={$:1,$0:e_};return eU(null);};e$=z.New(e9,function(){},function(){});fc=eN.Subscribe(e6);fd=eO.Subscribe(e$);return e.Of(function(){fc.Dispose();return fd.Dispose();});};return y.New(eQ);},Concat:function(ff,fg){var fh;fh=function(fi){var fj,fk,fp;fj={contents:{$:0}};fk=ff.Subscribe(z.New(function(fl){return fi.OnNext(fl);},function(){},function(){var fo;fo=fg.Subscribe(fi);fj.contents={$:1,$0:fo};}));fp=function(){fj.contents.$==1?fj.contents.$0.Dispose():null;return fk.Dispose();};return e.Of(fp);};return y.New(fh);},Drop:function(fr,fs){var ft;ft=function(fu){var fv,fw,fy;fv={contents:0};fw=function(fx){q.Increment(fv);return fv.contents>fr?fu.OnNext(fx):null;};fy=z.New(fw,function(fz){return fu.OnError(fz);},function(){return fu.OnCompleted();});return fs.Subscribe(fy);};return y.New(ft);},Filter:function(fB,fC){var fD;fD=function(fE){var fF,fM;fF=function(fG){var fI;fI=function(fJ){return fE.OnNext(fJ);};return y.Protect(function(){return fB(fG)?{$:1,$0:fG}:{$:0};},function(fK){return c.iter(fI,fK);},function(fL){return fE.OnError(fL);});};fM=z.New(fF,function(fN){return fE.OnError(fN);},function(){return fE.OnCompleted();});return fC.Subscribe(fM);};return y.New(fD);},Map:function(fP,fQ){var fR;fR=function(fS){var fT,fY;fT=function(fU){return y.Protect(function(){return fP(fU);},function(fW){return fS.OnNext(fW);},function(fX){return fS.OnError(fX);});};fY=z.New(fT,function(fZ){return fS.OnError(fZ);},function(){return fS.OnCompleted();});return fQ.Subscribe(fY);};return y.New(fR);},Merge:function(f1,f2){var f3;f3=function(f4){var f5,f6,f7,f$,ga,ge;f5={contents:false};f6={contents:false};f7=z.New(function(f8){return f4.OnNext(f8);},function(){},function(){f5.contents=true;return(f5.contents?f6.contents:false)?f4.OnCompleted():null;});f$=f1.Subscribe(f7);ga=z.New(function(gb){return f4.OnNext(gb);},function(){},function(){f6.contents=true;return(f5.contents?f6.contents:false)?f4.OnCompleted():null;});ge=f2.Subscribe(ga);return e.Of(function(){f$.Dispose();return ge.Dispose();});};return y.New(f3);},Never:function(){return y.New(function(){return e.Of(function(){});});},New:function(gi){return $.New(A,{Subscribe1:gi});},Observable:$.Class({Subscribe:function(gj){return this.Subscribe1.call(null,gj);}}),Of:function(gk){return y.New(function(gl){return e.Of(gk(function(gm){return gl.OnNext(gm);}));});},Protect:function(gn,go,gp){var gq,gr,gs,gt,gu,gv;try{gr={$:0,$0:gn(null)};}catch(gs){gr={$:1,$0:gs};}gq=gr;if(gq.$==1){gu=gq.$0;gt=gp(gu);}else{gv=gq.$0;gt=go(gv);}return gt;},Range:function(gw,gx){var gy;gy=function(gz){var gA;for(gA=gw;gA<=gw+gx;gA++){gz.OnNext(gA);}return e.Of(function(){});};return y.New(gy);},Return:function(gC){var gD;gD=function(gE){gE.OnNext(gC);gE.OnCompleted();return e.Of(function(){});};return y.New(gD);},SelectMany:function(gG){return y.New(function(gH){var gI,gK;gI={contents:function(){}};gK=h.subscribeTo(gG,function(gL){var gM;gM=h.subscribeTo(gL,function(gN){return gH.OnNext(gN);});gI.contents=function(){gI.contents.call(null,null);return gM.Dispose();};return;});return e.Of(function(){gI.contents.call(null,null);return gK.Dispose();});});},Sequence:function(gQ){var gR;gR=function(gS){var gT,gU,gV,gW;if(gS.$==1){gU=gS.$1;gV=gS.$0;gW=gR(gU);gT=y.CombineLatest(gV,gW,function(gX){return function(gY){return $.New(C,{$:1,$0:gX,$1:gY});};});}else{gT=y.Return($.New(C,{$:0}));}return gT;};return gR(B.ofSeq(gQ));},Switch:function(gZ){return y.New(function(g0){var g1,g2,g3;g1={contents:0};g2={contents:{$:0}};g3=h.subscribeTo(gZ,function(g4){var g5,g6,g8;q.Increment(g1);g2.contents.$==1?g2.contents.$0.Dispose():null;g5=g1.contents;g6=h.subscribeTo(g4,function(g7){return g5===g1.contents?g0.OnNext(g7):null;});g8={$:1,$0:g6};g2.contents=g8;return;});return g3;});}},ObservableModule:{Pairwise:function(g9){var g_;g_=function(g$){var ha,hb,hg;ha={contents:{$:0}};hb=function(hc){var hd,he,hf;hd=ha.contents;if(hd.$==1){hf=hd.$0;he=g$.OnNext([hf,hc]);}else{he=null;}ha.contents={$:1,$0:hc};return;};hg=z.New(hb,function(hh){return g$.OnError(hh);},function(){return g$.OnCompleted();});return g9.Subscribe(hg);};return y.New(g_);},Partition:function(hj,hk){var hl;hl=function(hm){var hn;hn=hj(hm);return!hn;};return[y.Filter(hj,hk),y.Filter(hl,hk)];},Scan:function(ho,hp,hq){var hr;hr=function(hs){var ht,hu,hz;ht={contents:hp};hu=function(hv){return y.Protect(function(){return(ho(ht.contents))(hv);},function(hx){ht.contents=hx;return hs.OnNext(hx);},function(hy){return hs.OnError(hy);});};hz=z.New(hu,function(hA){return hs.OnError(hA);},function(){return hs.OnCompleted();});return hq.Subscribe(hz);};return y.New(hr);},Split:function(hC,hD){var hE,hJ,hK,hP;hE=function(hF){var hG,hH,hI;hG=hC(hF);if(hG.$==0){hI=hG.$0;hH={$:1,$0:hI};}else{hH={$:0};}return hH;};hJ=y.Choose(hE,hD);hK=function(hL){var hM,hN,hO;hM=hC(hL);if(hM.$==1){hO=hM.$0;hN={$:1,$0:hO};}else{hN={$:0};}return hN;};hP=y.Choose(hK,hD);return[hJ,hP];}},Observer:{New:function(hQ,hR,hS){return $.New(D,{onNext:hQ,onError:hR,onCompleted:hS});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(hT){return this.onError.call(null,hT);},OnNext:function(hU){return this.onNext.call(null,hU);}}),Of:function(hV){return $.New(D,{onNext:function(hW){return hV(hW);},onError:function(hX){return q.Raise(hX);},onCompleted:function(){return null;}});}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Option);d=$.Safe($$.WebSharper.Control);e=$.Safe(d.Disposable);f=$.Safe($$.WebSharper.Arrays);g=$.Safe(d.FSharpEvent);h=$.Safe($$.WebSharper.Util);i=$.Safe(d.Event);j=$.Safe(i.Event);k=$.Safe($$.WebSharper.Collections);l=$.Safe(k.ResizeArray);m=$.Safe(l.ResizeArrayProxy);n=$.Safe(d.EventModule);o=$.Safe(d.HotStream);p=$.Safe(o.HotStream);q=$.Safe($$.WebSharper.Operators);r=$.Safe($$.Error);s=$.Safe($$.WebSharper.Concurrency);t=$.Safe($$.setTimeout);u=$.Safe($$.clearTimeout);v=$.Safe(k.LinkedList);w=$.Safe(v.ListProxy);x=$.Safe(d.MailboxProcessor);y=$.Safe(d.Observable);z=$.Safe(d.Observer);A=$.Safe(y.Observable);B=$.Safe($$.WebSharper.List);C=$.Safe(B.T);return D=$.Safe(z.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;$.Define($$,{WebSharper:{Collections:{BalancedTree:{Add:function(D,E){return b.Put(function(){return function(G){return G;};},D,E);},Branch:function(H,I,J){return{Node:H,Left:I,Right:J,Height:1+c.Max(I==null?0:I.Height,J==null?0:J.Height),Count:1+(I==null?0:I.Count)+(J==null?0:J.Count)};},Build:function(K,L,M){var N,O,P,Q,R;N=M-L+1;if(N<=0){O=null;}else{P=(L+M)/2>>0;Q=b.Build(K,L,P-1);R=b.Build(K,P+1,M);O=b.Branch(d.get(K,P),Q,R);}return O;},Contains:function(S,T){return!((b.Lookup(S,T))[0]==null);},Enumerate:function(U,V){var W;W=function(X){var Y,Z,_0,_1,_2,_3,_4;Y=X[0];Z=X[1];if(Y==null){if(Z.$==1){_2=Z.$0[0];_3=Z.$1;_4=Z.$0[1];_1={$:1,$0:[_2,[_4,_3]]};}else{_1={$:0};}_0=_1;}else{_0=U?W([Y.Right,$.New(g,{$:1,$0:[Y.Node,Y.Left],$1:Z})]):W([Y.Left,$.New(g,{$:1,$0:[Y.Node,Y.Right],$1:Z})]);}return _0;};return e.unfold(W,[V,$.New(g,{$:0})]);},Lookup:function(_5,_6){var _7,_8,_9,_,ba,bb;_7=[];_8=_6;_9=true;while(_9){if(_8==null){_=_9=false;}else{ba=c.Compare(_5,_8.Node);if(ba===0){bb=_9=false;}else{if(ba===1){_7.unshift([true,_8.Node,_8.Left]);bb=_8=_8.Right;}else{_7.unshift([false,_8.Node,_8.Right]);bb=_8=_8.Left;}}_=bb;}}return[_8,_7];},OfSeq:function(bb){var bc;bc=d.sort(e.toArray(e.distinct(bb)));return b.Build(bc,0,bc.length-1);},Put:function(bd,be,bf){var bg,bh,bi;bg=b.Lookup(be,bf);bh=bg[0];bi=bg[1];return bh==null?b.Rebuild(bi,b.Branch(be,null,null)):b.Rebuild(bi,b.Branch((bd(bh.Node))(be),bh.Left,bh.Right));},Rebuild:function(bj,bk){var bl,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA;bl=function(bm){return bm==null?0:bm.Height;};bn=bk;for(bo=0;bo<=d.length(bj)-1;bo++){bp=d.get(bj,bo);if(bp[0]){br=bp[1];bs=bp[2];if(bl(bn)>bl(bs)+1){if(bl(bn.Left)===bl(bn.Right)+1){bv=bn.Left;bu=b.Branch(bv.Node,b.Branch(br,bs,bv.Left),b.Branch(bn.Node,bv.Right,bn.Right));}else{bu=b.Branch(bn.Node,b.Branch(br,bs,bn.Left),bn.Right);}bt=bu;}else{bt=b.Branch(br,bs,bn);}bq=bt;}else{bw=bp[1];bx=bp[2];if(bl(bn)>bl(bx)+1){if(bl(bn.Right)===bl(bn.Left)+1){bA=bn.Right;bz=b.Branch(bA.Node,b.Branch(bn.Node,bn.Left,bA.Left),b.Branch(bw,bA.Right,bx));}else{bz=b.Branch(bn.Node,bn.Left,b.Branch(bw,bn.Right,bx));}by=bz;}else{by=b.Branch(bw,bn,bx);}bq=by;}bn=bq;}return bn;},Remove:function(bB,bC){var bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN;bD=b.Lookup(bB,bC);bE=bD[0];bF=bD[1];if(bE==null){bG=bC;}else{if(bE.Right==null){bH=b.Rebuild(bF,bE.Left);}else{if(bE.Left==null){bI=b.Rebuild(bF,bE.Right);}else{bK=bE.Left;bL=bE.Right;bJ=e.append(b.Enumerate(false,bK),b.Enumerate(false,bL));bM=e.toArray(bJ);bN=b.Build(bM,0,bM.length-1);bI=b.Rebuild(bF,bN);}bH=bI;}bG=bH;}return bG;},TryFind:function(bO,bP){var bQ;bQ=(b.Lookup(bO,bP))[0];return bQ==null?{$:0}:{$:1,$0:bQ.Node};}},Dictionary:$.Class({Add:function(bR,bS){var bT,bU;bT=this.hash.call(null,bR);if(this.data.hasOwnProperty(bT)){bU=c.FailWith("An item with the same key has already been added.");}else{this.data[bT]={K:bR,V:bS};bU=void(this.count=this.count+1);}return bU;},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bV){return this.data.hasOwnProperty(this.hash.call(null,bV));},GetEnumerator:function(){var bW;bW=i.GetFieldValues(this.data);return j.Get(bW);},Remove:function(bX){var bY,bZ;bY=this.hash.call(null,bX);if(this.data.hasOwnProperty(bY)){i.Delete(this.data,bY);this.count=this.count-1;bZ=true;}else{bZ=false;}return bZ;},get_Item:function(b0){var b1,b2,b3;b1=this.hash.call(null,b0);if(this.data.hasOwnProperty(b1)){b3=this.data[b1];b2=b3.V;}else{b2=k.notPresent();}return b2;},set_Item:function(b4,b5){var b6;b6=this.hash.call(null,b4);!this.data.hasOwnProperty(b6)?void(this.count=this.count+1):null;this.data[b6]={K:b4,V:b5};return;}},{New:function(b7){return $.New(this,l.New4(b7,function(b8){return function(b9){return m.Equals(b8,b9);};},function(b_){return m.Hash(b_);}));},New1:function(b$,ca){return $.New(this,l.New4(b$,function(cb){return function(cc){return ca.Equals(cb,cc);};},function(cd){return ca.GetHashCode(cd);}));},New11:function(ce,cf){return $.New(this,l.New3(cf));},New12:function(){return $.New(this,l.New4([],function(cg){return function(ch){return m.Equals(cg,ch);};},function(ci){return m.Hash(ci);}));},New2:function(){return $.New(this,l.New12());},New3:function(ck){return $.New(this,l.New4([],function(cl){return function(cm){return ck.Equals(cl,cm);};},function(cn){return ck.GetHashCode(cn);}));},New4:function(co,cp,cq){var cr,cs,ct,cu;cr=$.New(this,{});cr.hash=cq;cr.count=0;cr.data={};cs=j.Get(co);while(cs.MoveNext()){ct=cs.get_Current();cu=ct.K;cr.data[cr.hash.call(null,cu)]=ct.V;}return cr;}}),DictionaryUtil:{notPresent:function(){return c.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(cv,cw){var cx,cy;cx=this.tree;cy=$.New(o,{Key:cv,Value:cw});return n.New(b.Add(cy,cx));},CompareTo:function(cz){return e.compareWith(function(cA){return function(cB){return c.Compare(cA,cB);};},this,cz);},ContainsKey:function(cC){var cD,cE;cD=this.tree;cE=$.New(o,{Key:cC,Value:undefined});return b.Contains(cE,cD);},Equals:function(cF){return this.get_Count()===cF.get_Count()?e.forall2(function(cG){return function(cH){return m.Equals(cG,cH);};},this,cF):false;},GetEnumerator:function(){var cI,cJ,cL,cM;cI=this.tree;cJ=function(cK){return{K:cK.Key,V:cK.Value};};cL=b.Enumerate(false,cI);cM=e.map(cJ,cL);return j.Get(cM);},GetHashCode:function(){var cN;cN=e.toArray(this);return m.Hash(cN);},Remove:function(cO){var cP,cQ;cP=this.tree;cQ=$.New(o,{Key:cO,Value:undefined});return n.New(b.Remove(cQ,cP));},TryFind:function(cR){var cS,cT,cU,cW;cS=this.tree;cT=$.New(o,{Key:cR,Value:undefined});cU=function(cV){return cV.Value;};cW=b.TryFind(cT,cS);return p.map(cU,cW);},get_Count:function(){var cX;cX=this.tree;return cX==null?0:cX.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cY){var cZ,c0,c1;cZ=this.TryFind(cY);if(cZ.$==0){c0=c.FailWith("The given key was not present in the dictionary.");}else{c1=cZ.$0;c0=c1;}return c0;},get_Tree:function(){return this.tree;}},{New:function(c2){var c3;c3=$.New(this,{});c3.tree=c2;return c3;},New1:function(c4){return $.New(this,n.New(q.fromSeq(c4)));}}),FSharpSet:$.Class({Add:function(c5){return r.New(b.Add(c5,this.tree));},CompareTo:function(c6){return e.compareWith(function(c7){return function(c8){return c.Compare(c7,c8);};},this,c6);},Contains:function(c9){return b.Contains(c9,this.tree);},Equals:function(c_){return this.get_Count()===c_.get_Count()?e.forall2(function(c$){return function(da){return m.Equals(c$,da);};},this,c_):false;},GetEnumerator:function(){var db,dc;db=this.tree;dc=b.Enumerate(false,db);return j.Get(dc);},GetHashCode:function(){var dd;dd=e.toArray(this);return-1741749453+m.Hash(dd);},IsProperSubsetOf:function(de){return this.IsSubsetOf(de)?this.get_Count()<de.get_Count():false;},IsProperSupersetOf:function(df){return this.IsSupersetOf(df)?this.get_Count()>df.get_Count():false;},IsSubsetOf:function(dg){return e.forall(function(dh){return dg.Contains(dh);},this);},IsSupersetOf:function(di){var dk=this;return e.forall(function(dj){return dk.Contains(dj);},di);},Remove:function(dl){return r.New(b.Remove(dl,this.tree));},add:function(dm){var dn,_do;dn=e.append(this,dm);_do=b.OfSeq(dn);return r.New(_do);},get_Count:function(){var dp;dp=this.tree;return dp==null?0:dp.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){var dq;dq=this.tree;return e.head(b.Enumerate(true,dq));},get_MinimumElement:function(){var dr;dr=this.tree;return e.head(b.Enumerate(false,dr));},get_Tree:function(){return this.tree;},sub:function(ds){return s.Filter(function(dt){return!ds.Contains(dt);},this);}},{New:function(du){var dv;dv=$.New(this,{});dv.tree=du;return dv;},New1:function(dw){return $.New(this,r.New(t.ofSeq(dw)));}}),HashSet:{HashSet:$.Class({Add:function(dx){return this.add(dx);},Clear:function(){this.data=u.prototype.constructor.apply(u,[]);this.count=0;return;},Contains:function(dy){var dz;dz=this.data[this.hash.call(null,dy)];return dz==null?false:this.arrContains(dy,dz);},CopyTo:function(dA){var dB,dC,dD;dB=0;dC=w.concat(this.data);for(dD=0;dD<=dC.length-1;dD++){d.set(dA,dD,dC[dD]);}return;},ExceptWith:function(dE){var dF,dG,dH;dF=j.Get(dE);while(dF.MoveNext()){dG=dF.get_Current();dH=this.Remove(dG);}return;},GetEnumerator:function(){var dI;dI=w.concat(this.data);return j.Get(dI);},IntersectWith:function(dJ){var dK,dL,dM,dN,dO,dP,dQ;dK=x.New2(dJ,this.equals,this.hash);dL=w.concat(this.data);for(dM=0;dM<=dL.length-1;dM++){dN=dL[dM];dO=dK.Contains(dN);if(!dO){dQ=this.Remove(dN);dP=void dQ;}else{dP=null;}}return;},IsProperSubsetOf:function(dR){var dS;dS=d.ofSeq(dR);return this.count<d.length(dS)?this.IsSubsetOf(dS):false;},IsProperSupersetOf:function(dT){var dU;dU=d.ofSeq(dT);return this.count>d.length(dU)?this.IsSupersetOf(dU):false;},IsSubsetOf:function(dV){var dW,dX,dZ;dW=x.New2(dV,this.equals,this.hash);dX=function(dY){return dW.Contains(dY);};dZ=w.concat(this.data);return e.forall(dX,dZ);},IsSupersetOf:function(d0){var d1,d3=this;d1=function(d2){return d3.Contains(d2);};return e.forall(d1,d0);},Overlaps:function(d4){var d5,d7=this;d5=function(d6){return d7.Contains(d6);};return e.exists(d5,d4);},Remove:function(d8){var d9,d_,d$,ea;d9=this.hash.call(null,d8);d_=this.data[d9];if(d_==null){d$=false;}else{if(this.arrRemove(d8,d_)){this.count=this.count-1;ea=true;}else{ea=false;}d$=ea;}return d$;},RemoveWhere:function(eb){var ec,ed,ee,ef,eg;ec=w.concat(this.data);for(ed=0;ed<=ec.length-1;ed++){ee=ec[ed];if(eb(ee)){eg=this.Remove(ee);ef=void eg;}else{ef=null;}}return;},SetEquals:function(eh){var ei;ei=x.New2(eh,this.equals,this.hash);return this.get_Count()===ei.get_Count()?this.IsSupersetOf(ei):false;},SymmetricExceptWith:function(ej){var ek,el,em,en,eo;ek=j.Get(ej);while(ek.MoveNext()){el=ek.get_Current();if(this.Contains(el)){en=this.Remove(el);em=void en;}else{eo=this.Add(el);em=void eo;}}return;},UnionWith:function(ep){var eq,er,es;eq=j.Get(ep);while(eq.MoveNext()){er=eq.get_Current();es=this.Add(er);}return;},add:function(et){var eu,ev,ew,ex,ey;eu=this.hash.call(null,et);ev=this.data[eu];if(ev==null){this.data[eu]=[et];this.count=this.count+1;ew=true;}else{if(this.arrContains(et,ev)){ex=false;}else{ey=ev.push(et);this.count=this.count+1;ex=true;}ew=ex;}return ew;},arrContains:function(ez,eA){var eB,eC,eD;eB=true;eC=0;eD=eA.length;while(eB?eC<eD:false){(this.equals.call(null,eA[eC]))(ez)?eB=false:eC=eC+1;}return!eB;},arrRemove:function(eE,eF){var eG,eH,eI,eJ,eK,eL,eM;eG=true;eH=0;eI=eF.length;while(eG?eH<eI:false){if((this.equals.call(null,eF[eH]))(eE)){eK=eH;eL=[];eM=eF.splice.apply(eF,[eK,1].concat(eL));eJ=eG=false;}else{eJ=eH=eH+1;}}return!eG;},get_Count:function(){return this.count;}},{New:function(eN,eO){return $.New(this,x.New2(eN,function(eP){return function(eQ){return eO.Equals(eP,eQ);};},function(eR){return eO.GetHashCode(eR);}));},New1:function(eS){return $.New(this,x.New2(e.empty(),function(eT){return function(eU){return eS.Equals(eT,eU);};},function(eV){return eS.GetHashCode(eV);}));},New11:function(){return $.New(this,x.New2(e.empty(),function(eW){return function(eX){return m.Equals(eW,eX);};},function(eY){return m.Hash(eY);}));},New2:function(eZ,e0,e1){var e2,e3,e4,e5;e2=$.New(this,{});e2.equals=e0;e2.hash=e1;e2.data=u.prototype.constructor.apply(u,[]);e2.count=0;e3=j.Get(eZ);while(e3.MoveNext()){e4=e3.get_Current();e5=e2.add(e4);}return e2;},New3:function(e6){return $.New(this,x.New2(e6,function(e7){return function(e8){return m.Equals(e7,e8);};},function(e9){return m.Hash(e9);}));}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}}},LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!m.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(e_){var e$;e$=$.New(this,{});e$.c=e_;return e$;}}),ListProxy:$.Class({AddAfter:function(fa,fb){var fc,fd,fe;fc=fa.n;fd={p:fa,n:fc,v:fb};m.Equals(fa.n,null)?void(this.p=fd):null;fa.n=fd;if(!m.Equals(fc,null)){fc.p=fd;fe=fd;}else{fe=null;}this.c=this.c+1;return fd;},AddBefore:function(ff,fg){var fh,fi,fj;fh=ff.p;fi={p:fh,n:ff,v:fg};m.Equals(ff.p,null)?void(this.n=fi):null;ff.p=fi;if(!m.Equals(fh,null)){fh.n=fi;fj=fi;}else{fj=null;}this.c=this.c+1;return fi;},AddFirst:function(fk){var fl,fm;if(this.c===0){fm={p:null,n:null,v:fk};this.n=fm;this.p=this.n;this.c=1;fl=fm;}else{fl=this.AddBefore(this.n,fk);}return fl;},AddLast:function(fn){var fo,fp;if(this.c===0){fp={p:null,n:null,v:fn};this.n=fp;this.p=this.n;this.c=1;fo=fp;}else{fo=this.AddAfter(this.p,fn);}return fo;},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(fq){var fr,fs;fr=false;fs=this.n;while(!m.Equals(fs,null)?!fr:false){fs.v==fq?fr=true:fs=fs.n;}return fr;},Find:function(ft){var fu,fv;fu=this.n;fv=true;while(fv?!m.Equals(fu,null):false){fu.v==ft?fv=false:fu=fu.n;}return fv?null:fu;},FindLast:function(fw){var fx,fy;fx=this.p;fy=true;while(fy?!m.Equals(fx,null):false){fx.v==fw?fy=false:fx=fx.p;}return fy?null:fx;},GetEnumerator:function(){return z.New(this);},Remove:function(fz){var fA,fB,fC,fD;fA=fz.p;fB=fz.n;if(m.Equals(fA,null)){fC=void(this.n=fB);}else{fA.n=fB;fC=fB;}if(m.Equals(fB,null)){fD=void(this.p=fA);}else{fB.p=fA;fD=fA;}this.c=this.c-1;return;},Remove1:function(fE){var fF,fG;fF=this.Find(fE);if(m.Equals(fF,null)){fG=false;}else{this.Remove(fF);fG=true;}return fG;},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,A.New1(e.empty()));},New1:function(fH){var fI,fJ,fK,fL;fI=$.New(this,{});fI.c=0;fI.n=null;fI.p=null;fJ=j.Get(fH);if(fJ.MoveNext()){fI.n={p:null,n:null,v:fJ.get_Current()};fI.p=fI.n;fK=void(fI.c=1);}else{fK=null;}while(fJ.MoveNext()){fL={p:fI.p,n:null,v:fJ.get_Current()};fI.p.n=fL;fI.p=fL;fI.c=fI.c+1;}return fI;}})},MapModule:{Exists:function(fM,fN){var fO;fO=function(fP){return(fM(fP.K))(fP.V);};return e.exists(fO,fN);},Filter:function(fQ,fR){var fS,fT,fV,fW,fX,fY;fS=fR.get_Tree();fT=function(fU){return(fQ(fU.Key))(fU.Value);};fV=b.Enumerate(false,fS);fW=e.filter(fT,fV);fX=e.toArray(fW);fY=b.Build(fX,0,fX.length-1);return n.New(fY);},FindKey:function(fZ,f0){var f1;f1=function(f2){return(fZ(f2.K))(f2.V)?{$:1,$0:f2.K}:{$:0};};return e.pick(f1,f0);},Fold:function(f3,f4,f5){var f6,f7,f_;f6=f5.get_Tree();f7=function(f8){return function(f9){return((f3(f8))(f9.Key))(f9.Value);};};f_=b.Enumerate(false,f6);return e.fold(f7,f4,f_);},FoldBack:function(f$,ga,gb){var gc,gd,gg;gc=ga.get_Tree();gd=function(ge){return function(gf){return((f$(gf.Key))(gf.Value))(ge);};};gg=b.Enumerate(true,gc);return e.fold(gd,gb,gg);},ForAll:function(gh,gi){var gj;gj=function(gk){return(gh(gk.K))(gk.V);};return e.forall(gj,gi);},Iterate:function(gl,gm){var gn;gn=function(go){return(gl(go.K))(go.V);};return e.iter(gn,gm);},Map:function(gp,gq){var gr,gs,gu,gv,gw;gr=gq.get_Tree();gs=function(gt){return $.New(o,{Key:gt.Key,Value:(gp(gt.Key))(gt.Value)});};gu=b.Enumerate(false,gr);gv=e.map(gs,gu);gw=b.OfSeq(gv);return n.New(gw);},OfArray:function(gx){var gy,gC,gD;gy=function(gz){var gA,gB;gA=gz[0];gB=gz[1];return $.New(o,{Key:gA,Value:gB});};gC=e.map(gy,gx);gD=b.OfSeq(gC);return n.New(gD);},Partition:function(gE,gF){var gG,gI,gJ,gK,gL,gM,gN,gO;gG=function(gH){return(gE(gH.Key))(gH.Value);};gJ=gF.get_Tree();gI=e.toArray(b.Enumerate(false,gJ));gK=d.partition(gG,gI);gL=gK[1];gM=gK[0];gN=b.Build(gM,0,gM.length-1);gO=b.Build(gL,0,gL.length-1);return[n.New(gN),n.New(gO)];},Pick:function(gP,gQ){var gR;gR=function(gS){return(gP(gS.K))(gS.V);};return e.pick(gR,gQ);},ToSeq:function(gT){var gU,gV,gX;gU=gT.get_Tree();gV=function(gW){return[gW.Key,gW.Value];};gX=b.Enumerate(false,gU);return e.map(gV,gX);},TryFind:function(gY,gZ){return gZ.TryFind(gY);},TryFindKey:function(g0,g1){var g2;g2=function(g3){return(g0(g3.K))(g3.V)?{$:1,$0:g3.K}:{$:0};};return e.tryPick(g2,g1);},TryPick:function(g4,g5){var g6;g6=function(g7){return(g4(g7.K))(g7.V);};return e.tryPick(g6,g5);}},MapUtil:{fromSeq:function(g8){var g9;g9=e.toArray(e.delay(function(){return e.collect(function(g$){var ha,hb;ha=g$[1];hb=g$[0];return[$.New(o,{Key:hb,Value:ha})];},e.distinctBy(function(hc){return hc[0];},g8));}));d.sortInPlace(g9);return b.Build(g9,0,g9.length-1);}},Pair:$.Class({CompareTo:function(hd){return c.Compare(this.Key,hd.Key);},Equals:function(he){return m.Equals(this.Key,he.Key);},GetHashCode:function(){var hf;hf=this.Key;return m.Hash(hf);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(hg){return this.arr.push(hg);},AddRange:function(hh){var hj=this;return e.iter(function(hi){return hj.Add(hi);},hh);},Clear:function(){var hk,hl;hl=this.arr;hk=B.splice(this.arr,0,d.length(hl),[]);return;},CopyTo:function(hm){return this.CopyTo1(hm,0);},CopyTo1:function(hn,ho){return this.CopyTo2(0,hn,ho,this.get_Count());},CopyTo2:function(hp,hq,hr,hs){return d.blit(this.arr,hp,hq,hr,hs);},GetEnumerator:function(){var ht;ht=this.arr;return j.Get(ht);},GetRange:function(hu,hv){var hw;hw=this.arr;return C.New11(d.sub(hw,hu,hv));},Insert:function(hx,hy){var hz;hz=B.splice(this.arr,hx,0,[hy]);return;},InsertRange:function(hA,hB){var hC;hC=B.splice(this.arr,hA,0,e.toArray(hB));return;},RemoveAt:function(hD){var hE;hE=B.splice(this.arr,hD,1,[]);return;},RemoveRange:function(hF,hG){var hH;hH=B.splice(this.arr,hF,hG,[]);return;},Reverse:function(){return this.arr.reverse();},Reverse1:function(hI,hJ){return d.reverse(this.arr,hI,hJ);},ToArray:function(){return this.arr.slice();},get_Count:function(){var hK;hK=this.arr;return d.length(hK);},get_Item:function(hL){return d.get(this.arr,hL);},set_Item:function(hM,hN){return d.set(this.arr,hM,hN);}},{New:function(hO){return $.New(this,C.New11(e.toArray(hO)));},New1:function(){return $.New(this,C.New11([]));},New11:function(hQ){var hR;hR=$.New(this,{});hR.arr=hQ;return hR;},New2:function(){return $.New(this,C.New11([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(hS,hT){var hU,hV;hU=e.toArray(e.filter(hS,hT));hV=b.Build(hU,0,hU.length-1);return r.New(hV);},FoldBack:function(hW,hX,hY){var h1;h1=hX.get_Tree();return e.fold(function(hZ){return function(h0){return(hW(h0))(hZ);};},hY,b.Enumerate(true,h1));},Partition:function(h2,h3){var h4,h5,h6,h7,h8;h4=d.partition(h2,e.toArray(h3));h5=h4[1];h6=h4[0];h7=b.OfSeq(h6);h8=b.OfSeq(h5);return[r.New(h7),r.New(h8)];}},SetUtil:{ofSeq:function(h9){var h_;h_=e.toArray(h9);d.sortInPlace(h_);return b.Build(h_,0,h_.length-1);}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Collections);b=$.Safe(a.BalancedTree);c=$.Safe($$.WebSharper.Operators);d=$.Safe($$.WebSharper.Arrays);e=$.Safe($$.WebSharper.Seq);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe($$.WebSharper.JavaScript);i=$.Safe(h.JSModule);j=$.Safe($$.WebSharper.Enumerator);k=$.Safe(a.DictionaryUtil);l=$.Safe(a.Dictionary);m=$.Safe($$.WebSharper.Unchecked);n=$.Safe(a.FSharpMap);o=$.Safe(a.Pair);p=$.Safe($$.WebSharper.Option);q=$.Safe(a.MapUtil);r=$.Safe(a.FSharpSet);s=$.Safe(a.SetModule);t=$.Safe(a.SetUtil);u=$.Safe($$.Array);v=$.Safe(a.HashSet);w=$.Safe(v.HashSetUtil);x=$.Safe(v.HashSet);y=$.Safe(a.LinkedList);z=$.Safe(y.EnumeratorProxy);A=$.Safe(y.ListProxy);B=$.Safe(a.ResizeArray);return C=$.Safe(B.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n;$.Define($$,{DataGrid:{Client:{Main:$.Field(function(){var o,p,H,I;p=b.toList(b.delay(function(){var r,w;r=b.toList(b.delay(function(){return a.map(function(t){var u,v;u=a.ofArray([e.Tags().text(t)]);v=e.Tags();return v.NewTag("th",u);},g.columns());}));w=e.Tags();return b.append([w.NewTag("tr",r)],b.delay(function(){return b.map(function(y){var z,G;z=b.toList(b.delay(function(){return b.collect(function(B){var C,E,F;C=h.get2D(g.grid(),B,y);C.get_Body().addEventListener("paste",function(D){return g.doPaste(D);},false);E=a.ofArray([C]);F=e.Tags();return[F.NewTag("td",E)];},b.toList(i.range(0,g.columns().get_Length()-1)));}));G=e.Tags();return G.NewTag("tr",z);},b.toList(i.range(0,g.rows()-1)));}));}));H=e.Tags();o=a.ofArray([H.NewTag("table",p)]);I=e.Tags();return I.NewTag("div",o).AppendTo("grid");}),columns:$.Field(function(){return a.map(function(J){return"C"+$$.String(J);},b.toList(i.range(0,7)));}),doPaste:function(K){var L,M,N,O,P,Q,R,S,T;L=K.target;M=!j.Equals(K.clipboardData,undefined)?K.clipboardData.getData("text/plain"):k.clipboardData.getData("text");K.preventDefault();N=g.getCoordinates(L);if(N.$==1){O=N.$0[1];P=N.$0[0];Q=[10];R=l.SplitChars(M,Q,1);S=a.ofArray(R);T=function(U){return function(V){var W,X,_3;W=[9];X=function(Y){return function(Z){var _0,_1,_2;_0=[P+Y,O+U];_1=_0[1];_2=_0[0];return(_2<g.columns().get_Length()?_1<g.rows():false)?h.get2D(g.grid(),_2,_1).set_Value(Z):null;};};_3=a.ofArray(l.SplitChars(V,W,1));return b.iteri(X,_3);};};return b.iteri(T,S);}else{return;}},getCoordinates:function(_4){var _5,_;_5=function(_6){var _7,_9;_7=function(_8){return j.Equals(h.get2D(g.grid(),_6,_8).get_Body(),_4)?{$:1,$0:[_6,_8]}:{$:0};};_9=b.toList(i.range(0,g.rows()-1));return b.tryPick(_7,_9);};_=b.toList(i.range(0,g.columns().get_Length()-1));return b.tryPick(_5,_);},grid:$.Field(function(){return m.init(g.columns().get_Length(),g.rows(),function(){return function(){var bc,bd,be;bd=n.Attr();bc=a.ofArray([bd.NewAttr("type","Text")]);be=e.Tags();return be.NewTag("input",bc);};});}),rows:$.Field(function(){return 8;})}}});$.OnInit(function(){a=$.Safe($$.WebSharper.List);b=$.Safe($$.WebSharper.Seq);c=$.Safe($$.WebSharper.Html);d=$.Safe(c.Client);e=$.Safe(d.Tags);f=$.Safe($$.DataGrid);g=$.Safe(f.Client);h=$.Safe($$.WebSharper.Arrays);i=$.Safe($$.WebSharper.Operators);j=$.Safe($$.WebSharper.Unchecked);k=$.Safe($$.window);l=$.Safe($$.WebSharper.Strings);m=$.Safe($$.WebSharper.Arrays2D);return n=$.Safe(d.Attr);});$.OnLoad(function(){g.rows();g.grid();g.columns();g.Main();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
